Module[java.base](../../../module-summary.html)

# Package java.lang.constant

package java.lang.constantClasses and interfaces to represent nominal descriptors for run-time entities such as classes or method handles, and classfile entities such as constant pool entries or `invokedynamic` call sites. These classes are suitable for use in bytecode reading and writing APIs, `invokedynamic` bootstraps, bytecode intrinsic APIs, and compile-time or link-time program analysis tools. 

Every API that reads and writes bytecode instructions needs to model the operands to these instructions and other classfile structures (such as entries in the bootstrap methods table or stack maps, which frequently reference entries in the classfile constant pool.) Such entries can denote values of fundamental types, such as strings or integers; parts of a program, such as classes or method handles; or values of arbitrary user-defined types. The [ConstantDesc](ConstantDesc.html) hierarchy provides a representation of constant pool entries in nominal form that is convenient for APIs to model operands of bytecode instructions. 

## Nominal Descriptors

A [ConstantDesc](ConstantDesc.html) is a description of a constant value. Such a description is the nominal form of the constant value; it is not the value itself, but rather a "recipe" for describing the value, storing the value in a constant pool entry, or reconstituting the value given a class loading context. Every [ConstantDesc](ConstantDesc.html) knows how to resolve itself -- compute the value that it describes -- via [ConstantDesc.resolveConstantDesc](ConstantDesc.html#resolveConstantDesc(java.lang.invoke.MethodHandles.Lookup)). This allows an API which accepts [ConstantDesc](ConstantDesc.html) objects to evaluate them reflectively, provided that the classes and methods referenced in their nominal description are present and accessible. 

The subtypes of [ConstantDesc](ConstantDesc.html) describe various kinds of constant values. For each type of loadable constant pool entry defined in JVMS [4.4](https://docs.oracle.com/javase/specs/jvms/se21/html/jvms-4.html#jvms-4.4), there is a corresponding subtype of [ConstantDesc](ConstantDesc.html): [ClassDesc](ClassDesc.html), [MethodTypeDesc](MethodTypeDesc.html), [DirectMethodHandleDesc](DirectMethodHandleDesc.html), [String](../String.html), [Integer](../Integer.html), [Long](../Long.html), [Float](../Float.html), [Double](../Double.html), and [DynamicConstantDesc](DynamicConstantDesc.html). These classes provide type-specific accessor methods to extract the nominal information for that kind of constant. When a bytecode-writing API encounters a [ConstantDesc](ConstantDesc.html), it should examine it to see which of these types it is, cast it, extract its nominal information, and generate the corresponding entry to the constant pool. When a bytecode-reading API encounters a constant pool entry, it can convert it to the appropriate type of nominal descriptor. For dynamic constants, bytecode-reading APIs may wish to use the factory [DynamicConstantDesc.ofCanonical](DynamicConstantDesc.html#ofCanonical(java.lang.constant.DirectMethodHandleDesc,java.lang.String,java.lang.constant.ClassDesc,java.lang.constant.ConstantDesc%5B%5D)), which will inspect the bootstrap and, for well-known bootstraps, return a more specific subtype of [DynamicConstantDesc](DynamicConstantDesc.html), such as [Enum.EnumDesc](../Enum.EnumDesc.html). 

Another way to obtain the nominal description of a value is to ask the value itself. A [Constable](Constable.html) is a type whose values can describe themselves in nominal form as a [ConstantDesc](ConstantDesc.html). Fundamental types such as [String](../String.html) and [Class](../Class.html) implement [Constable](Constable.html), as can user-defined classes. Entities that generate classfiles (such as compilers) can introspect over constable objects to obtain a more efficient way to represent their values in classfiles. 

This package also includes [DynamicCallSiteDesc](DynamicCallSiteDesc.html), which represents a (non-loadable) `Constant_InvokeDynamic_info` constant pool entry. It describes the bootstrap method, invocation name and type, and bootstrap arguments associated with an `invokedynamic` instruction. It is also suitable for describing `invokedynamic` call sites in bytecode reading and writing APIs. 

Other members of this package are [ModuleDesc](ModuleDesc.html) and [PackageDesc](PackageDesc.html). They represent module and package info structures, suitable for describing modules and their content in bytecode reading and writing APIs.

See Java Virtual Machine Specification:[4.4 The Constant Pool](https://docs.oracle.com/javase/specs/jvms/se21/html/jvms-4.html#jvms-4.4)
Since:12

- Related PackagesPackageDescription[java.lang](../package-summary.html)Provides classes that are fundamental to the design of the Java programming language.
- All Classes and InterfacesInterfacesClassesEnum ClassesClassDescription[ClassDesc](ClassDesc.html)A [nominal descriptor](package-summary.html#nominal) for a [Class](../Class.html) constant.[Constable](Constable.html)Represents a type which is constable.[ConstantDesc](ConstantDesc.html)A [nominal descriptor](package-summary.html#nominal) for a loadable constant value, as defined in JVMS [4.4](https://docs.oracle.com/javase/specs/jvms/se21/html/jvms-4.html#jvms-4.4).[ConstantDescs](ConstantDescs.html)Predefined values of [nominal descriptor](package-summary.html#nominal) for common constants, including descriptors for primitive class types and other common platform types, and descriptors for method handles for standard bootstrap methods.[DirectMethodHandleDesc](DirectMethodHandleDesc.html)A [nominal descriptor](package-summary.html#nominal) for a direct [MethodHandle](../invoke/MethodHandle.html).[DirectMethodHandleDesc.Kind](DirectMethodHandleDesc.Kind.html)Kinds of method handles that can be described with [DirectMethodHandleDesc](DirectMethodHandleDesc.html).[DynamicCallSiteDesc](DynamicCallSiteDesc.html)A [nominal descriptor](package-summary.html#nominal) for an `invokedynamic` call site.[DynamicConstantDesc](DynamicConstantDesc.html)<T>A [nominal descriptor](package-summary.html#nominal) for a dynamic constant (one described in the constant pool with `Constant_Dynamic_info`.)[MethodHandleDesc](MethodHandleDesc.html)A [nominal descriptor](package-summary.html#nominal) for a [MethodHandle](../invoke/MethodHandle.html) constant.[MethodTypeDesc](MethodTypeDesc.html)A [nominal descriptor](package-summary.html#nominal) for a [MethodType](../invoke/MethodType.html) constant.[ModuleDesc](ModuleDesc.html)A nominal descriptor for a `Module` constant.[PackageDesc](PackageDesc.html)A nominal descriptor for a `Package` constant.
