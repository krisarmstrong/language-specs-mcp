{"language": "yaml", "generatedAt": "2026-01-06T18:23:22.400241+00:00", "entries": [{"path": "generation-checklist.md", "category": "spec", "name": "generation-checklist", "content": "# YAML Generation Checklist\n\n**Read this BEFORE writing YAML. Indentation and quoting matter\u2014a lot.**\n\n## Critical: You Must Do These\n\n### 1. Use Consistent Indentation (2 Spaces Recommended)\n```yaml\n# BAD - mixed indentation\nservices:\n  web:\n      image: nginx     # 4 spaces\n      ports:\n        - \"80:80\"      # 6 spaces - inconsistent!\n\n# GOOD - consistent 2-space indentation\nservices:\n  web:\n    image: nginx\n    ports:\n      - \"80:80\"\n```\n\n### 2. Quote Strings That Look Like Other Types\n```yaml\n# DANGEROUS - these are not strings!\nversion: 1.0        # Float, not string \"1.0\"\nversion: 3.10       # Float 3.1, not string \"3.10\"!\nenabled: yes        # Boolean true\nenabled: no         # Boolean false\nenabled: on         # Boolean true\ntime: 12:30:00      # Sexagesimal number!\ncountry: NO         # Boolean false, not Norway!\n\n# SAFE - quoted strings\nversion: \"1.0\"\nversion: \"3.10\"     # Now it's really \"3.10\"\nenabled: \"yes\"\ntime: \"12:30:00\"\ncountry: \"NO\"\n```\n\n### 3. Always Quote Special Characters\n```yaml\n# BAD - will cause parse errors or unexpected behavior\nmessage: Hello: World     # Colon issue\npath: C:\\Users\\name       # Backslash escape\nregex: [a-z]+             # Looks like array\ncommand: echo \"hello\"     # Nested quotes\n\n# GOOD - quoted\nmessage: \"Hello: World\"\npath: 'C:\\Users\\name'     # Single quotes for literal\nregex: \"[a-z]+\"\ncommand: 'echo \"hello\"'\n```\n\n### 4. Use Block Scalars for Multi-line Strings\n```yaml\n# BAD - hard to read, escape issues\ndescription: \"This is a long description that spans multiple lines and includes \\\"quotes\\\" and other special characters\"\n\n# GOOD - literal block (preserves newlines and spacing)\ndescription: |\n  This is a long description\n  that preserves line breaks\n  exactly as written.\n\n# GOOD - folded block (joins lines with spaces)\ndescription: >\n  This is a long description\n  that will be joined into\n  a single line with spaces.\n\n# With chomping indicators\ncontent: |+   # Keep trailing newlines\ncontent: |-   # Strip trailing newlines\n```\n\n### 5. Use Anchors and Aliases to Avoid Repetition\n```yaml\n# BAD - duplicated content\ndevelopment:\n  database:\n    host: localhost\n    port: 5432\n    pool: 5\ntest:\n  database:\n    host: localhost\n    port: 5432\n    pool: 5\n\n# GOOD - anchor and alias\ndefaults: &database_defaults\n  host: localhost\n  port: 5432\n  pool: 5\n\ndevelopment:\n  database:\n    <<: *database_defaults\n\ntest:\n  database:\n    <<: *database_defaults\n\nproduction:\n  database:\n    <<: *database_defaults\n    host: db.production.com\n    pool: 20\n```\n\n## Important: Strong Recommendations\n\n### 6. Use Explicit Types When Ambiguous\n```yaml\n# When you need specific types\nport: !!int \"8080\"\nversion: !!str 1.0\nenabled: !!bool \"true\"\nempty: !!null \"\"\n```\n\n### 7. Prefer Consistent Key Quoting Style\n```yaml\n# Pick one style and stick with it\n\n# Style 1: No quotes (for simple keys)\nname: myapp\nversion: \"1.0\"\n\n# Style 2: Always quote string values\nname: \"myapp\"\nversion: \"1.0\"\n\n# Keys with special characters MUST be quoted\n\"key:with:colons\": value\n\"key with spaces\": value\n```\n\n### 8. Format Lists Consistently\n```yaml\n# Block style (preferred for readability)\ndependencies:\n  - package-a\n  - package-b\n  - package-c\n\n# Flow style (for short lists)\ntags: [api, backend, v2]\n\n# Don't mix in the same file\n```\n\n### 9. Format Maps Consistently\n```yaml\n# Block style (preferred)\ndatabase:\n  host: localhost\n  port: 5432\n\n# Flow style (for simple, short maps)\npoint: {x: 10, y: 20}\n\n# Avoid flow style for complex nested structures\n```\n\n### 10. Use Comments Effectively\n```yaml\n# Application configuration\n# Updated: 2024-01-15\n\nserver:\n  # Host to bind to (0.0.0.0 for all interfaces)\n  host: 0.0.0.0\n\n  # Port number (must be > 1024 for non-root)\n  port: 8080\n\n  # Timeout in seconds\n  timeout: 30  # Increase for slow networks\n```\n\n## Common Pitfalls\n\n### 11. Beware of Implicit Type Conversion\n```yaml\n# These may not be what you expect:\noctal: 0777          # Octal number in YAML 1.1\nfloat: .inf          # Infinity\nnull_value: ~        # null\nnull_also: null      # null\nempty:               # null (no value)\n```\n\n### 12. Handle Empty Values Correctly\n```yaml\n# Explicit null\nvalue: null\nvalue: ~\n\n# Empty string\nvalue: \"\"\nvalue: ''\n\n# Not the same as missing key!\n# Missing key: key doesn't exist\n# Null value: key exists with null value\n# Empty string: key exists with empty string value\n```\n\n### 13. Validate Environment-Specific Values\n```yaml\n# GOOD - clear environment separation\ndefaults: &defaults\n  log_level: info\n  timeout: 30\n\ndevelopment:\n  <<: *defaults\n  debug: true\n  log_level: debug\n\nproduction:\n  <<: *defaults\n  debug: false\n  # Override only what's different\n```\n\n## Security\n\n### 14. Never Include Secrets in YAML Files\n```yaml\n# DANGEROUS - secrets in config\ndatabase:\n  password: MySecretPassword123\n\n# SAFE - use environment variable references\ndatabase:\n  password: ${DB_PASSWORD}\n  # Or\n  password: !env DB_PASSWORD\n\n# SAFE - reference external secret store\ndatabase:\n  password: !secret database_password\n```\n\n### 15. Be Careful with YAML Deserialization\n```yaml\n# In application code, be aware that YAML can contain:\n# - Arbitrary type instantiation (in some parsers)\n# - Large data structures (billion laughs attack)\n# - Binary data\n\n# Always use safe loaders:\n# Python: yaml.safe_load() not yaml.load()\n# Ruby: YAML.safe_load() not YAML.load()\n# Java: Use SnakeYAML with restricted types\n```\n\n### 16. Validate Schema\n```yaml\n# Use JSON Schema or similar to validate YAML structure\n# Example with Docker Compose (validates automatically)\n# Example with Kubernetes (use kubectl --dry-run=client)\n# Example with CI/CD configs (yamllint, validate tools)\n```\n\n---\n\n**Quick Reference - Copy This Mental Model:**\n- Consistent 2-space indentation\n- Quote strings that look like numbers/booleans\n- Quote special characters (: @ # etc.)\n- Block scalars (`|` or `>`) for multi-line\n- Anchors (`&`) and aliases (`*`) for DRY\n- Explicit types when ambiguous (`!!str`)\n- Consistent list/map formatting\n- Beware implicit type conversion\n- Empty string `\"\"` vs null `~` vs missing\n- Never hardcode secrets\n- Use safe YAML loaders\n- Validate with schema/linter\n"}, {"path": "patterns/idioms.md", "category": "patterns", "name": "patterns/idioms", "content": "# YAML Idioms\n\n## Use explicit quoting\n\nQuote strings that look like booleans or numbers.\n\n## Keep indentation consistent\n\nUse two spaces and avoid tabs.\n"}, {"path": "formatters/overview.md", "category": "formatters", "name": "formatters/overview", "content": "# YAML Formatters\n\nCommon formatters include Prettier and yamlfix.\n\nSee:\n- https://prettier.io/\n- https://github.com/lyz-code/yamlfix\n"}, {"path": "stdlib/overview.md", "category": "stdlib", "name": "stdlib/overview", "content": "# YAML Standard Library\n\nYAML has no standard library.\n"}, {"path": "spec.md", "category": "spec", "name": "spec", "content": "# YAML 1.2.2 Specification\nVersion: 1.2.2\n\nSource: https://yaml.org/spec/1.2.2/\n\n\nSee: https://yaml.org/spec/1.2.2/\n"}, {"path": "linters/yamllint/overview.md", "category": "linters", "name": "linters/yamllint/overview", "content": "# yamllint Rules\nVersion: latest\n\nSource: https://yamllint.readthedocs.io/en/stable/rules.html\n\n\nSee: https://yamllint.readthedocs.io/en/stable/rules.html\n"}]}