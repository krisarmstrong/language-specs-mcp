{"language": "dockerfile", "generatedAt": "2026-01-06T18:23:22.037140+00:00", "entries": [{"path": "generation-checklist.md", "category": "spec", "name": "generation-checklist", "content": "# Dockerfile Generation Checklist\n\n**Read this BEFORE writing Dockerfiles. Security and image size matter.**\n\n## Critical: You Must Do These\n\n### 1. Use Specific Base Image Tags\n```dockerfile\n# BAD - unpredictable, changes over time\nFROM node\nFROM python\nFROM ubuntu:latest\n\n# GOOD - pinned versions\nFROM node:20.10-alpine\nFROM python:3.12-slim\nFROM ubuntu:22.04\n```\n\n### 2. Don't Run as Root\n```dockerfile\n# BAD - runs as root\nFROM node:20-alpine\nCOPY . .\nCMD [\"node\", \"app.js\"]\n\n# GOOD - create and use non-root user\nFROM node:20-alpine\nRUN addgroup -S appgroup && adduser -S appuser -G appgroup\nWORKDIR /app\nCOPY --chown=appuser:appgroup . .\nUSER appuser\nCMD [\"node\", \"app.js\"]\n```\n\n### 3. Use Multi-Stage Builds\n```dockerfile\n# BAD - includes build tools in final image\nFROM node:20\nCOPY package*.json ./\nRUN npm install\nCOPY . .\nRUN npm run build\nCMD [\"node\", \"dist/app.js\"]\n\n# GOOD - multi-stage, smaller final image\nFROM node:20 AS builder\nWORKDIR /app\nCOPY package*.json ./\nRUN npm ci\nCOPY . .\nRUN npm run build\n\nFROM node:20-alpine\nWORKDIR /app\nCOPY --from=builder /app/dist ./dist\nCOPY --from=builder /app/node_modules ./node_modules\nUSER node\nCMD [\"node\", \"dist/app.js\"]\n```\n\n### 4. Order Layers for Cache Efficiency\n```dockerfile\n# BAD - invalidates cache on any code change\nFROM node:20-alpine\nCOPY . .\nRUN npm install\n\n# GOOD - dependencies cached separately\nFROM node:20-alpine\nWORKDIR /app\n\n# Copy dependency files first (changes less often)\nCOPY package.json package-lock.json ./\nRUN npm ci --only=production\n\n# Copy source code last (changes most often)\nCOPY . .\n```\n\n### 5. Use `.dockerignore`\n```dockerignore\n# .dockerignore file\nnode_modules\nnpm-debug.log\n.git\n.gitignore\n.env\n.env.*\nDockerfile\ndocker-compose*.yml\n*.md\n.vscode\n.idea\ncoverage\n.nyc_output\ndist\n```\n\n## Important: Strong Recommendations\n\n### 6. Minimize Layer Count and Size\n```dockerfile\n# BAD - multiple RUN commands\nRUN apt-get update\nRUN apt-get install -y curl\nRUN apt-get install -y git\nRUN rm -rf /var/lib/apt/lists/*\n\n# GOOD - combined commands, cleanup in same layer\nRUN apt-get update && \\\n    apt-get install -y --no-install-recommends \\\n        curl \\\n        git && \\\n    rm -rf /var/lib/apt/lists/*\n```\n\n### 7. Use COPY Instead of ADD\n```dockerfile\n# BAD - ADD has magic behavior (auto-extract, fetch URLs)\nADD app.tar.gz /app\nADD https://example.com/file.txt /app/\n\n# GOOD - COPY is explicit and predictable\nCOPY app/ /app/\n\n# Only use ADD when you need tar extraction\nADD app.tar.gz /app/  # OK - intentionally extracting\n```\n\n### 8. Set Explicit WORKDIR\n```dockerfile\n# BAD - relies on default, uses cd\nRUN cd /app && npm install\n\n# GOOD - explicit WORKDIR\nWORKDIR /app\nRUN npm install\n```\n\n### 9. Use ARG for Build-Time Variables\n```dockerfile\n# GOOD - parameterized builds\nARG NODE_VERSION=20\nFROM node:${NODE_VERSION}-alpine\n\nARG APP_ENV=production\nENV NODE_ENV=${APP_ENV}\n```\n\n### 10. Prefer exec Form for CMD and ENTRYPOINT\n```dockerfile\n# BAD - shell form, doesn't receive signals properly\nCMD npm start\nENTRYPOINT /app/start.sh\n\n# GOOD - exec form, proper signal handling\nCMD [\"npm\", \"start\"]\nENTRYPOINT [\"/app/start.sh\"]\n\n# GOOD - combining ENTRYPOINT and CMD\nENTRYPOINT [\"python\"]\nCMD [\"app.py\"]  # Can be overridden\n```\n\n## Security\n\n### 11. Don't Store Secrets in Images\n```dockerfile\n# DANGEROUS - secrets in image layers\nENV API_KEY=secret123\nCOPY .env /app/\nRUN echo \"password\" > /app/config\n\n# GOOD - use secrets at runtime\n# In docker-compose.yml or docker run:\n# docker run -e API_KEY=xxx -v ./config:/app/config myimage\n\n# GOOD - use Docker secrets (Swarm) or BuildKit secrets\nRUN --mount=type=secret,id=npmrc,target=/root/.npmrc npm ci\n```\n\n### 12. Scan Images for Vulnerabilities\n```dockerfile\n# Add to CI pipeline\n# docker scout cves myimage:latest\n# trivy image myimage:latest\n# snyk container test myimage:latest\n```\n\n### 13. Use Read-Only Root Filesystem Where Possible\n```dockerfile\n# In docker-compose.yml\nservices:\n  app:\n    image: myapp\n    read_only: true\n    tmpfs:\n      - /tmp\n      - /var/run\n```\n\n### 14. Drop Capabilities\n```dockerfile\n# In docker-compose.yml or docker run\nservices:\n  app:\n    image: myapp\n    cap_drop:\n      - ALL\n    cap_add:\n      - NET_BIND_SERVICE  # Only if needed\n```\n\n## Health Checks\n\n### 15. Include HEALTHCHECK\n```dockerfile\n# GOOD - container health monitoring\nFROM node:20-alpine\n# ... build steps ...\n\nHEALTHCHECK --interval=30s --timeout=10s --start-period=5s --retries=3 \\\n    CMD wget --no-verbose --tries=1 --spider http://localhost:3000/health || exit 1\n\n# Or with curl\nHEALTHCHECK CMD curl --fail http://localhost:3000/health || exit 1\n```\n\n## Metadata\n\n### 16. Add Labels\n```dockerfile\n# GOOD - image metadata\nLABEL org.opencontainers.image.title=\"My Application\"\nLABEL org.opencontainers.image.description=\"Description of the app\"\nLABEL org.opencontainers.image.version=\"1.0.0\"\nLABEL org.opencontainers.image.vendor=\"My Company\"\nLABEL org.opencontainers.image.source=\"https://github.com/org/repo\"\n```\n\n---\n\n**Quick Reference - Copy This Mental Model:**\n- Pin base image versions\n- Run as non-root user\n- Multi-stage builds\n- Order for cache efficiency (deps before code)\n- Use `.dockerignore`\n- Combine RUN commands, cleanup in same layer\n- COPY over ADD\n- Explicit WORKDIR\n- Exec form for CMD/ENTRYPOINT\n- No secrets in images\n- Scan for vulnerabilities\n- Include HEALTHCHECK\n- Add LABEL metadata\n"}, {"path": "patterns/idioms.md", "category": "patterns", "name": "patterns/idioms", "content": "# Dockerfile Idioms\n\n## Use multi-stage builds\n\nKeep runtime images minimal.\n\n## Pin base images\n\nPrefer explicit tags or digests.\n"}, {"path": "formatters/overview.md", "category": "formatters", "name": "formatters/overview", "content": "# Dockerfile Formatters\n\nThere is no official formatter; use linting and consistent style.\n"}, {"path": "stdlib/overview.md", "category": "stdlib", "name": "stdlib/overview", "content": "# Dockerfile Standard Library\n\nDockerfile has no standard library.\n"}, {"path": "spec.md", "category": "spec", "name": "spec", "content": "# Dockerfile Reference\nVersion: latest\n\nSource: https://docs.docker.com/engine/reference/builder/\n\n\nSee: https://docs.docker.com/engine/reference/builder/\n"}, {"path": "linters/hadolint/DL4004.md", "category": "linters", "name": "linters/hadolint/DL4004", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL4000.md", "category": "linters", "name": "linters/hadolint/DL4000", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/overview.md", "category": "linters", "name": "linters/hadolint/overview", "content": "# Hadolint Rules\nVersion: latest\n\nSource: https://github.com/hadolint/hadolint#rules\n\n\nSee: https://github.com/hadolint/hadolint#rules\n"}, {"path": "linters/hadolint/DL4001.md", "category": "linters", "name": "linters/hadolint/DL4001", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL4005.md", "category": "linters", "name": "linters/hadolint/DL4005", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3021.md", "category": "linters", "name": "linters/hadolint/DL3021", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3015.md", "category": "linters", "name": "linters/hadolint/DL3015", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3044.md", "category": "linters", "name": "linters/hadolint/DL3044", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL1001.md", "category": "linters", "name": "linters/hadolint/DL1001", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3054.md", "category": "linters", "name": "linters/hadolint/DL3054", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3060.md", "category": "linters", "name": "linters/hadolint/DL3060", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3040.md", "category": "linters", "name": "linters/hadolint/DL3040", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3011.md", "category": "linters", "name": "linters/hadolint/DL3011", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3025.md", "category": "linters", "name": "linters/hadolint/DL3025", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3035.md", "category": "linters", "name": "linters/hadolint/DL3035", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3001.md", "category": "linters", "name": "linters/hadolint/DL3001", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3050.md", "category": "linters", "name": "linters/hadolint/DL3050", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3041.md", "category": "linters", "name": "linters/hadolint/DL3041", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3010.md", "category": "linters", "name": "linters/hadolint/DL3010", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3024.md", "category": "linters", "name": "linters/hadolint/DL3024", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3034.md", "category": "linters", "name": "linters/hadolint/DL3034", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3000.md", "category": "linters", "name": "linters/hadolint/DL3000", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3051.md", "category": "linters", "name": "linters/hadolint/DL3051", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3020.md", "category": "linters", "name": "linters/hadolint/DL3020", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3014.md", "category": "linters", "name": "linters/hadolint/DL3014", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3045.md", "category": "linters", "name": "linters/hadolint/DL3045", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3055.md", "category": "linters", "name": "linters/hadolint/DL3055", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3004.md", "category": "linters", "name": "linters/hadolint/DL3004", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3030.md", "category": "linters", "name": "linters/hadolint/DL3030", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3061.md", "category": "linters", "name": "linters/hadolint/DL3061", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3013.md", "category": "linters", "name": "linters/hadolint/DL3013", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3042.md", "category": "linters", "name": "linters/hadolint/DL3042", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3027.md", "category": "linters", "name": "linters/hadolint/DL3027", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3037.md", "category": "linters", "name": "linters/hadolint/DL3037", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3052.md", "category": "linters", "name": "linters/hadolint/DL3052", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3003.md", "category": "linters", "name": "linters/hadolint/DL3003", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3023.md", "category": "linters", "name": "linters/hadolint/DL3023", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3046.md", "category": "linters", "name": "linters/hadolint/DL3046", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3007.md", "category": "linters", "name": "linters/hadolint/DL3007", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3056.md", "category": "linters", "name": "linters/hadolint/DL3056", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3062.md", "category": "linters", "name": "linters/hadolint/DL3062", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3033.md", "category": "linters", "name": "linters/hadolint/DL3033", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3022.md", "category": "linters", "name": "linters/hadolint/DL3022", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3047.md", "category": "linters", "name": "linters/hadolint/DL3047", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3016.md", "category": "linters", "name": "linters/hadolint/DL3016", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3006.md", "category": "linters", "name": "linters/hadolint/DL3006", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3057.md", "category": "linters", "name": "linters/hadolint/DL3057", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3032.md", "category": "linters", "name": "linters/hadolint/DL3032", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3012.md", "category": "linters", "name": "linters/hadolint/DL3012", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3043.md", "category": "linters", "name": "linters/hadolint/DL3043", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3026.md", "category": "linters", "name": "linters/hadolint/DL3026", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3036.md", "category": "linters", "name": "linters/hadolint/DL3036", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3053.md", "category": "linters", "name": "linters/hadolint/DL3053", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3002.md", "category": "linters", "name": "linters/hadolint/DL3002", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3019.md", "category": "linters", "name": "linters/hadolint/DL3019", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3048.md", "category": "linters", "name": "linters/hadolint/DL3048", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3058.md", "category": "linters", "name": "linters/hadolint/DL3058", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3009.md", "category": "linters", "name": "linters/hadolint/DL3009", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3029.md", "category": "linters", "name": "linters/hadolint/DL3029", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL4006.md", "category": "linters", "name": "linters/hadolint/DL4006", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3028.md", "category": "linters", "name": "linters/hadolint/DL3028", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3038.md", "category": "linters", "name": "linters/hadolint/DL3038", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3018.md", "category": "linters", "name": "linters/hadolint/DL3018", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3049.md", "category": "linters", "name": "linters/hadolint/DL3049", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL4003.md", "category": "linters", "name": "linters/hadolint/DL4003", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3059.md", "category": "linters", "name": "linters/hadolint/DL3059", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}, {"path": "linters/hadolint/DL3008.md", "category": "linters", "name": "linters/hadolint/DL3008", "content": "[hadolint](/hadolint)/[hadolint](/hadolint/hadolint)Public\n\n- [Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n- [Fork\n    484](/login?return_to=%2Fhadolint%2Fhadolint)\n- [Star\n          11.8k](/login?return_to=%2Fhadolint%2Fhadolint)\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### License\n\n[GPL-3.0 license](/hadolint/hadolint/blob/master/LICENSE)[11.8k\n          stars](/hadolint/hadolint/stargazers)[484\n          forks](/hadolint/hadolint/forks)[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)[Activity](/hadolint/hadolint/activity)[Star](/login?return_to=%2Fhadolint%2Fhadolint)[Notifications](/login?return_to=%2Fhadolint%2Fhadolint)You must be signed in to change notification settings\n\n- [Code](/hadolint/hadolint)\n- [Issues\n          227](/hadolint/hadolint/issues)\n- [Pull requests\n          20](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects\n          0](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- \n\n### \n\n[Security\n          \n  \n  \n    \n  \n    \n      \n\n              Uh oh!\n\n              There was an error while loading. Please reload this page](/hadolint/hadolint/security).\n\n- [Insights](/hadolint/hadolint/pulse)\n\nAdditional navigation options\n\n- [Code](/hadolint/hadolint)\n- [Issues](/hadolint/hadolint/issues)\n- [Pull requests](/hadolint/hadolint/pulls)\n- [Actions](/hadolint/hadolint/actions)\n- [Projects](/hadolint/hadolint/projects)\n- [Wiki](/hadolint/hadolint/wiki)\n- [Security](/hadolint/hadolint/security)\n- [Insights](/hadolint/hadolint/pulse)\n\n# hadolint/hadolint\n\nmaster[Branches](/hadolint/hadolint/branches)[Tags](/hadolint/hadolint/tags)/hadolint/hadolint/branches/hadolint/hadolint/tagsGo to fileCodeOpen more actions menu\n\n## Folders and files\n\nNameNameLast commit messageLast commit date\n\n## Latest commit\n\n## History\n\n[1,273 Commits](/hadolint/hadolint/commits/master/)/hadolint/hadolint/commits/master/[.github](/hadolint/hadolint/tree/master/.github)[.github](/hadolint/hadolint/tree/master/.github)[app](/hadolint/hadolint/tree/master/app)[app](/hadolint/hadolint/tree/master/app)[contrib](/hadolint/hadolint/tree/master/contrib)[contrib](/hadolint/hadolint/tree/master/contrib)[docker](/hadolint/hadolint/tree/master/docker)[docker](/hadolint/hadolint/tree/master/docker)[docs](/hadolint/hadolint/tree/master/docs)[docs](/hadolint/hadolint/tree/master/docs)[scripts](/hadolint/hadolint/tree/master/scripts)[scripts](/hadolint/hadolint/tree/master/scripts)[src](/hadolint/hadolint/tree/master/src)[src](/hadolint/hadolint/tree/master/src)[test](/hadolint/hadolint/tree/master/test)[test](/hadolint/hadolint/tree/master/test)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.dockerignore](/hadolint/hadolint/blob/master/.dockerignore)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.envrc](/hadolint/hadolint/blob/master/.envrc)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.gitignore](/hadolint/hadolint/blob/master/.gitignore)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.hindent.yaml](/hadolint/hadolint/blob/master/.hindent.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.pre-commit-hooks.yaml](/hadolint/hadolint/blob/master/.pre-commit-hooks.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[.remarkrc.yaml](/hadolint/hadolint/blob/master/.remarkrc.yaml)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[LICENSE](/hadolint/hadolint/blob/master/LICENSE)[README.md](/hadolint/hadolint/blob/master/README.md)[README.md](/hadolint/hadolint/blob/master/README.md)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[Setup.hs](/hadolint/hadolint/blob/master/Setup.hs)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[ThirdPartyNotices.txt](/hadolint/hadolint/blob/master/ThirdPartyNotices.txt)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[cabal.project](/hadolint/hadolint/blob/master/cabal.project)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.lock](/hadolint/hadolint/blob/master/devenv.lock)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.nix](/hadolint/hadolint/blob/master/devenv.nix)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[devenv.yaml](/hadolint/hadolint/blob/master/devenv.yaml)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[hadolint.cabal](/hadolint/hadolint/blob/master/hadolint.cabal)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[integration_test.sh](/hadolint/hadolint/blob/master/integration_test.sh)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)[screenshot.png](/hadolint/hadolint/blob/master/screenshot.png)View all files\n\n## Repository files navigation\n\n- [README](#)\n- [GPL-3.0 license](#)\n\n# Haskell Dockerfile Linter\n\n#haskell-dockerfile-linter\n\nhttps://github.com/hadolint/hadolint/actions/workflows/haskell.ymlhttps://tldrlegal.com/l/gpl-3.0https://github.com/hadolint/hadolint/releases/latesthttps://camo.githubusercontent.com/4ada771c8bb0ee81bbbf4ab218c13c59ba23c4c3e300535f975003302c936091/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6861646f6c696e742f6861646f6c696e742f746f74616c2e737667https://camo.githubusercontent.com/f5069550bbeff3ca6511e8a268b97aee1104dc8929e0076203ee0904a7356f23/68747470733a2f2f6861646f6c696e742e6769746875622e696f2f6861646f6c696e742f696d672f6361745f636f6e7461696e65722e706e67\n\nA smarter Dockerfile linter that helps you build [best practice](https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices) Docker images. The linter parses the Dockerfile into an AST and performs rules on top of the AST. It stands on the shoulders of [ShellCheck](https://github.com/koalaman/shellcheck) to lint the Bash code inside `RUN` instructions.\n\n[\ud83c\udf10 Check the online version on\nhadolint.github.io/hadolint](https://hadolint.github.io/hadolint)https://hadolint.github.io/hadolint\n\n## Table of Contents\n\n#table-of-contents\n\n- [How to use](#how-to-use)\n- [Install](#install)\n- [CLI](#cli)\n- [Configure](#configure)\n- [Non-Posix Shells](#non-posix-shells)\n- [Ignoring Rules](#ignoring-rules)\n\n  - [Inline ignores](#inline-ignores)\n  - [Global ignores](#global-ignores)\n\n- [Linting Labels](#linting-labels)\n\n  - [Note on dealing with variables in labels](#note-on-dealing-with-variables-in-labels)\n\n- [Integrations](#integrations)\n- [Rules](#rules)\n- [Develop](#develop)\n\n  - [Setup](#setup)\n  - [REPL](#repl)\n  - [Tests](#tests)\n  - [AST](#ast)\n  - [Building against custom libraries](#building-against-custom-libraries)\n\n- [Alternatives](#alternatives)\n\n## How to use\n\n#how-to-use\n\nYou can run `hadolint` locally to lint your Dockerfile.\n\n```\nhadolint <Dockerfile>\nhadolint --ignore DL3003 --ignore DL3006 <Dockerfile> # exclude specific rules\nhadolint --trusted-registry my-company.com:500 <Dockerfile> # Warn when using untrusted FROM images\n```\n\nDocker comes to the rescue, providing an easy way how to run `hadolint` on most platforms. Just pipe your `Dockerfile` to `docker run`:\n\n```\ndocker run --rm -i hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using [Podman](https://podman.io/):\n\n```\npodman run --rm -i docker.io/hadolint/hadolint < Dockerfile\n# OR\npodman run --rm -i ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nor using Windows PowerShell:\n\n```\ncat .\\Dockerfile | docker run --rm -i hadolint/hadolint\n```\n\n## Install\n\n#install\n\nYou can download prebuilt binaries for OSX, Windows and Linux from the latest [release page](https://github.com/hadolint/hadolint/releases/latest). However, if this does not work for you, please fall back to container (Docker), `brew` or source installation.\n\nOn OSX, you can use [brew](https://brew.sh/) to install `hadolint`.\n\n```\nbrew install hadolint\n```\n\nOn Windows, you can use [scoop](https://github.com/lukesampson/scoop) to install `hadolint`.\n\n```\nscoop install hadolint\n```\n\nOn distributions that have `nix` installed, you can use the `hadolint` package to run ad-hoc shells or permanently install `hadolint` into your environment.\n\nAs mentioned earlier, `hadolint` is available as a container image:\n\n```\ndocker pull hadolint/hadolint\n# OR\ndocker pull ghcr.io/hadolint/hadolint\n```\n\nIf you need a container with shell access, use the Debian or Alpine variants:\n\n```\ndocker pull hadolint/hadolint:latest-debian\n# OR\ndocker pull hadolint/hadolint:latest-alpine\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-debian\n# OR\ndocker pull ghcr.io/hadolint/hadolint:latest-alpine\n```\n\nYou can also build `hadolint` locally. You need [Haskell](https://www.haskell.org/downloads/) and the [cabal](https://www.haskell.org/cabal/) build tool to build the binary.\n\n```\ngit clone https://github.com/hadolint/hadolint \\\n  && cd hadolint \\\n  && cabal configure \\\n  && cabal build \\\n  && cabal install\n```\n\nIf you want the [VS Code Hadolint](https://github.com/michaellzc/vscode-hadolint) extension to use Hadolint in a container, you can use the following [wrapper script](https://github.com/hadolint/hadolint/issues/691#issuecomment-932116329):\n\n```\n#!/bin/bash\ndockerfile=\"$1\"\nshift\ndocker run --rm -i hadolint/hadolint hadolint \"$@\" - < \"$dockerfile\"\n```\n\n## CLI\n\n#cli\n\n```\nhadolint --help\n```\n\n```\nhadolint - Dockerfile Linter written in Haskell\n\nUsage: hadolint [-v|--version] [-c|--config FILENAME] [DOCKERFILE...]\n                [--file-path-in-report FILEPATHINREPORT] [--no-fail]\n                [--no-color] [-V|--verbose] [-f|--format ARG] [--error RULECODE]\n                [--warning RULECODE] [--info RULECODE] [--style RULECODE]\n                [--ignore RULECODE]\n                [--trusted-registry REGISTRY (e.g. docker.io)]\n                [--require-label LABELSCHEMA (e.g. maintainer:text)]\n                [--strict-labels] [--disable-ignore-pragma]\n                [-t|--failure-threshold THRESHOLD]\n  Lint Dockerfile for errors and best practices\n\nAvailable options:\n  -h,--help                Show this help text\n  -v,--version             Show version\n  -c,--config FILENAME     Path to the configuration file\n  --file-path-in-report FILEPATHINREPORT\n                           The file path referenced in the generated report.\n                           This only applies for the 'checkstyle', 'codeclimate',\n                           'sonarqube' and 'gitlab_codeclimate' formats and is\n                           useful when running Hadolint with Docker to set the\n                           correct file path.\n  --no-fail                Don't exit with a failure status code when any rule\n                           is violated\n  --no-color               Don't colorize output\n  -V,--verbose             Enables verbose logging of hadolint's output to\n                           stderr\n  -f,--format ARG          The output format for the results [tty | json |\n                           checkstyle | codeclimate | gitlab_codeclimate | gnu |\n                           codacy | sonarqube | sarif] (default: tty)\n  --error RULECODE         Make the rule `RULECODE` have the level `error`\n  --warning RULECODE       Make the rule `RULECODE` have the level `warning`\n  --info RULECODE          Make the rule `RULECODE` have the level `info`\n  --style RULECODE         Make the rule `RULECODE` have the level `style`\n  --ignore RULECODE        A rule to ignore. If present, the ignore list in the\n                           config file is ignored\n  --trusted-registry REGISTRY (e.g. docker.io)\n                           A docker registry to allow to appear in FROM\n                           instructions\n  --require-label LABELSCHEMA (e.g. maintainer:text)\n                           The option --require-label=label:format makes\n                           Hadolint check that the label `label` conforms to\n                           format requirement `format`\n  --strict-labels          Do not permit labels other than specified in\n                           `label-schema`\n  --disable-ignore-pragma  Disable inline ignore pragmas `# hadolint\n                           ignore=DLxxxx`\n  -t,--failure-threshold THRESHOLD\n                           Exit with failure code only when rules with a\n                           severity equal to or above THRESHOLD are violated.\n                           Accepted values: [error | warning | info | style |\n                           ignore | none] (default: info)\n```\n\n## Configure\n\n#configure\n\nConfiguration files can be used globally or per project. Hadolint looks for configuration files in the following locations or their platform specific equivalents in this order and uses the first one exclusively:\n\n- `$PWD/.hadolint.yaml`\n- `$XDG_CONFIG_HOME/hadolint.yaml`\n- `$HOME/.config/hadolint.yaml`\n- `$HOME/.hadolint/hadolint.yaml or $HOME/hadolint/config.yaml`\n- `$HOME/.hadolint.yaml`\n\nIn windows, the `%LOCALAPPDATA%` environment variable is used instead of `XDG_CONFIG_HOME`. Config files can have either `yaml` or `yml` extensions.\n\n`hadolint` full `yaml` config file schema\n\n```\nfailure-threshold: string               # name of threshold level (error | warning | info | style | ignore | none)\nformat: string                          # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy)\nignored: [string]                       # list of rules\nlabel-schema:                           # See Linting Labels below for specific label-schema details\n  author: string                        # Your name\n  contact: string                       # email address\n  created: timestamp                    # rfc3339 datetime\n  version: string                       # semver\n  documentation: string                 # url\n  git-revision: string                  # hash\n  license: string                       # spdx\nno-color: boolean                       # true | false\nno-fail: boolean                        # true | false\noverride:\n  error: [string]                       # list of rules\n  warning: [string]                     # list of rules\n  info: [string]                        # list of rules\n  style: [string]                       # list of rules\nstrict-labels: boolean                  # true | false\ndisable-ignore-pragma: boolean          # true | false\ntrustedRegistries: string | [string]    # registry or list of registries\n```\n\n`hadolint` supports specifying the ignored rules using a configuration file. The configuration file should be in `yaml` format. This is one valid configuration file as an example:\n\n```\nignored:\n  - DL3000\n  - SC1010\n```\n\nAdditionally, `hadolint` can warn you when images from untrusted repositories are being used in Dockerfiles, you can append the `trustedRegistries` keys to the configuration file, as shown below:\n\n```\nignored:\n  - DL3000\n  - SC1010\n\ntrustedRegistries:\n  - docker.io\n  - my-company.com:5000\n  - \"*.gcr.io\"\n```\n\nIf you want to override the severity of specific rules, you can do that too:\n\n```\noverride:\n  error:\n    - DL3001\n    - DL3002\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n  style:\n    - DL3015\n```\n\n`failure-threshold` Exit with failure code only when rules with a severity above THRESHOLD are violated (Available in v2.6.0+)\n\n```\nfailure-threshold: info\noverride:\n  warning:\n    - DL3042\n    - DL3033\n  info:\n    - DL3032\n```\n\nAdditionally, you can pass a custom configuration file in the command line with the `--config` option\n\n```\nhadolint --config /path/to/config.yaml Dockerfile\n```\n\nTo pass a custom configuration file (using relative or absolute path) to a container, use the following command:\n\n```\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml hadolint/hadolint < Dockerfile\n# OR\ndocker run --rm -i -v /your/path/to/hadolint.yaml:/.config/hadolint.yaml ghcr.io/hadolint/hadolint < Dockerfile\n```\n\nIn addition to config files, Hadolint can be configured with environment variables.\n\n```\nNO_COLOR=1                               # Set or unset. See https://no-color.org\nHADOLINT_NOFAIL=1                        # Truthy value e.g. 1, true or yes\nHADOLINT_VERBOSE=1                       # Truthy value e.g. 1, true or yes\nHADOLINT_FORMAT=json                     # Output format (tty | json | checkstyle | codeclimate | gitlab_codeclimate | gnu | codacy | sarif )\nHADOLINT_FAILURE_THRESHOLD=info          # threshold level (error | warning | info | style | ignore | none)\nHADOLINT_OVERRIDE_ERROR=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_OVERRIDE_WARNING=DL3010,DL3020  # comma separated list of rule codes\nHADOLINT_OVERRIDE_INFO=DL3010,DL3020     # comma separated list of rule codes\nHADOLINT_OVERRIDE_STYLE=DL3010,DL3020    # comma separated list of rule codes\nHADOLINT_IGNORE=DL3010,DL3020            # comma separated list of rule codes\nHADOLINT_STRICT_LABELS=1                 # Truthy value e.g. 1, true or yes\nHADOLINT_DISABLE_IGNORE_PRAGMA=1         # Truthy value e.g. 1, true or yes\nHADOLINT_TRUSTED_REGISTRIES=docker.io    # comma separated list of registry urls\nHADOLINT_REQUIRE_LABELS=maintainer:text  # comma separated list of label schema items\n```\n\n## Non-Posix Shells\n\n#non-posix-shells\n\nWhen using base images with non-posix shells as default (e.g. Windows based images) a special pragma `hadolint shell` can specify which shell the base image uses, so that Hadolint can automatically ignore all shell-specific rules.\n\n```\nFROM mcr.microsoft.com/windows/servercore:ltsc2022\n# hadolint shell=powershell\nRUN Get-Process notepad | Stop-Process\n```\n\n## Ignoring Rules\n\n#ignoring-rules\n\n### Inline ignores\n\n#inline-ignores\n\nIt is also possible to ignore rules by adding a special comment directly above the Dockerfile statement for which you want to make an exception for. Such comments look like `# hadolint ignore=DL3001,SC1081`. For example:\n\n```\n# hadolint ignore=DL3006\nFROM ubuntu\n\n# hadolint ignore=DL3003,SC1035\nRUN cd /tmp && echo \"hello!\"\n```\n\nThe comment \"inline ignores\" applies only to the statement following it.\n\n### Global ignores\n\n#global-ignores\n\nRules can also be ignored on a per-file basis using the global ignore pragma. It works just like inline ignores, except that it applies to the whole file instead of just the next line.\n\n```\n# hadolint global ignore=DL3003,DL3006,SC1035\nFROM ubuntu\n\nRUN cd /tmp && echo \"foo\"\n```\n\n## Linting Labels\n\n#linting-labels\n\nHadolint is able to check if specific labels are present and conform to a predefined label schema. First, a label schema must be defined either via the command line:\n\n```\nhadolint --require-label author:text --require-label version:semver Dockerfile\n```\n\nor via the config file:\n\n```\nlabel-schema:\n  author: text\n  contact: email\n  created: rfc3339\n  version: semver\n  documentation: url\n  git-revision: hash\n  license: spdx\n```\n\nThe value of a label can be either of `text`, `url`, `semver`, `hash` or `rfc3339`:\n\nSchemaDescriptiontextAnythingrfc3339A time, formatted according to [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)semverA [semantic version](https://semver.org/)urlA URI as described in [RFC 3986](https://www.ietf.org/rfc/rfc3986.txt)hashEither a short or a long [Git hash](https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection)spdxAn [SPDX license identifier](https://spdx.org/licenses/)emailAn email address conforming to [RFC 5322](https://www.ietf.org/rfc/rfc5322.txt)\n\nBy default, Hadolint ignores any label that is not specified in the label schema. To warn against such additional labels, turn on strict labels, using the command line:\n\n```\nhadolint --strict-labels --require-label version:semver Dockerfile\n```\n\nor the config file:\n\n```\nstrict-labels: true\n```\n\nWhen strict labels is enabled, but no label schema is specified, `hadolint` will warn if any label is present.\n\n### Note on dealing with variables in labels\n\n#note-on-dealing-with-variables-in-labels\n\nIt is a common pattern to fill the value of a label not statically, but rather dynamically at build time by using a variable:\n\n```\nFROM debian:buster\nARG VERSION=\"du-jour\"\nLABEL version=\"${VERSION}\"\n```\n\nTo allow this, the label schema must specify `text` as value for that label:\n\n```\nlabel-schema:\n  version: text\n```\n\n## Integrations\n\n#integrations\n\nTo get most of `hadolint`, it is useful to integrate it as a check in your CI or into your editor, or as a pre-commit hook, to lint your `Dockerfile` as you write it. See our [Integration](/hadolint/hadolint/blob/master/docs/INTEGRATION.md) docs.\n\n- [Code Review Platform Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#code-review)\n- [Continuous Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#continuous-integration)\n- [Editor Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#editors)\n- [Version Control Integrations](/hadolint/hadolint/blob/master/docs/INTEGRATION.md#version-control)\n\n## Rules\n\n#rules\n\nAn incomplete list of implemented rules. Click on the error code to get more detailed information.\n\n- \n\nRules with the prefix `DL` are from `hadolint`. Have a look at `Rules.hs` to find the implementation of the rules.\n\n- \n\nRules with the `SC` prefix are from ShellCheck (only the most common rules are listed, there are dozens more).\n\nPlease [create an issue](https://github.com/hadolint/hadolint/issues/new) if you have an idea for a good rule.\n\nRuleDefault SeverityDescription[DL1001](https://github.com/hadolint/hadolint/wiki/DL1001)IgnorePlease refrain from using inline ignore pragmas `# hadolint ignore=DLxxxx`.[DL3000](https://github.com/hadolint/hadolint/wiki/DL3000)ErrorUse absolute WORKDIR.[DL3001](https://github.com/hadolint/hadolint/wiki/DL3001)InfoFor some bash commands it makes no sense running them in a Docker container like ssh, vim, shutdown, service, ps, free, top, kill, mount, ifconfig.[DL3002](https://github.com/hadolint/hadolint/wiki/DL3002)WarningLast user should not be root.[DL3003](https://github.com/hadolint/hadolint/wiki/DL3003)WarningUse WORKDIR to switch to a directory.[DL3004](https://github.com/hadolint/hadolint/wiki/DL3004)ErrorDo not use sudo as it leads to unpredictable behavior. Use a tool like gosu to enforce root.[DL3006](https://github.com/hadolint/hadolint/wiki/DL3006)WarningAlways tag the version of an image explicitly.[DL3007](https://github.com/hadolint/hadolint/wiki/DL3007)WarningUsing latest is prone to errors if the image will ever update. Pin the version explicitly to a release tag.[DL3008](https://github.com/hadolint/hadolint/wiki/DL3008)WarningPin versions in `apt-get install`.[DL3009](https://github.com/hadolint/hadolint/wiki/DL3009)InfoDelete the apt-get lists after installing something.[DL3010](https://github.com/hadolint/hadolint/wiki/DL3010)InfoUse ADD for extracting archives into an image.[DL3011](https://github.com/hadolint/hadolint/wiki/DL3011)ErrorValid UNIX ports range from 0 to 65535.[DL3012](https://github.com/hadolint/hadolint/wiki/DL3012)ErrorMultiple `HEALTHCHECK` instructions.[DL3013](https://github.com/hadolint/hadolint/wiki/DL3013)WarningPin versions in pip.[DL3014](https://github.com/hadolint/hadolint/wiki/DL3014)WarningUse the `-y` switch.[DL3015](https://github.com/hadolint/hadolint/wiki/DL3015)InfoAvoid additional packages by specifying `--no-install-recommends`.[DL3016](https://github.com/hadolint/hadolint/wiki/DL3016)WarningPin versions in `npm`.[DL3018](https://github.com/hadolint/hadolint/wiki/DL3018)WarningPin versions in `apk add`. Instead of `apk add <package>` use `apk add <package>=<version>`.[DL3019](https://github.com/hadolint/hadolint/wiki/DL3019)InfoUse the `--no-cache` switch to avoid the need to use `--update` and remove `/var/cache/apk/*` when done installing packages.[DL3020](https://github.com/hadolint/hadolint/wiki/DL3020)ErrorUse `COPY` instead of `ADD` for files and folders.[DL3021](https://github.com/hadolint/hadolint/wiki/DL3021)Error`COPY` with more than 2 arguments requires the last argument to end with `/`[DL3022](https://github.com/hadolint/hadolint/wiki/DL3022)Warning`COPY --from` should reference a previously defined `FROM` alias[DL3023](https://github.com/hadolint/hadolint/wiki/DL3023)Error`COPY --from` cannot reference its own `FROM` alias[DL3024](https://github.com/hadolint/hadolint/wiki/DL3024)Error`FROM` aliases (stage names) must be unique[DL3025](https://github.com/hadolint/hadolint/wiki/DL3025)WarningUse arguments JSON notation for CMD and ENTRYPOINT arguments[DL3026](https://github.com/hadolint/hadolint/wiki/DL3026)ErrorUse only an allowed registry in the `FROM image`[DL3027](https://github.com/hadolint/hadolint/wiki/DL3027)WarningDo not use `apt` as it is meant to be an end-user tool, use `apt-get` or `apt-cache` instead[DL3028](https://github.com/hadolint/hadolint/wiki/DL3028)WarningPin versions in gem install. Instead of `gem install <gem>` use `gem install <gem>:<version>`[DL3029](https://github.com/hadolint/hadolint/wiki/DL3029)WarningDo not use --platform flag with FROM.[DL3030](https://github.com/hadolint/hadolint/wiki/DL3030)WarningUse the `-y` switch to avoid manual input `yum install -y <package>`[DL3032](https://github.com/hadolint/hadolint/wiki/DL3032)Warning`yum clean all` missing after yum command.[DL3033](https://github.com/hadolint/hadolint/wiki/DL3033)WarningSpecify version with `yum install -y <package>-<version>`[DL3034](https://github.com/hadolint/hadolint/wiki/DL3034)WarningNon-interactive switch missing from `zypper` command: `zypper install -y`[DL3035](https://github.com/hadolint/hadolint/wiki/DL3035)WarningDo not use `zypper dist-upgrade`.[DL3036](https://github.com/hadolint/hadolint/wiki/DL3036)Warning`zypper clean` missing after zypper use.[DL3037](https://github.com/hadolint/hadolint/wiki/DL3037)WarningSpecify version with `zypper install -y <package>[=]<version>`.[DL3038](https://github.com/hadolint/hadolint/wiki/DL3038)WarningUse the `-y` switch to avoid manual input `dnf install -y <package>`[DL3040](https://github.com/hadolint/hadolint/wiki/DL3040)Warning`dnf clean all` missing after dnf command.[DL3041](https://github.com/hadolint/hadolint/wiki/DL3041)WarningSpecify version with `dnf install -y <package>-<version>`[DL3042](https://github.com/hadolint/hadolint/wiki/DL3042)WarningAvoid cache directory with `pip install --no-cache-dir <package>`.[DL3043](https://github.com/hadolint/hadolint/wiki/DL3043)Error`ONBUILD`, `FROM` or `MAINTAINER` triggered from within `ONBUILD` instruction.[DL3044](https://github.com/hadolint/hadolint/wiki/DL3044)ErrorDo not refer to an environment variable within the same `ENV` statement where it is defined.[DL3045](https://github.com/hadolint/hadolint/wiki/DL3045)Warning`COPY` to a relative destination without `WORKDIR` set.[DL3046](https://github.com/hadolint/hadolint/wiki/DL3046)Warning`useradd` without flag `-l` and high UID will result in excessively large Image.[DL3047](https://github.com/hadolint/hadolint/wiki/DL3047)Info`wget` without flag `--progress` will result in excessively bloated build logs when downloading larger files.[DL3048](https://github.com/hadolint/hadolint/wiki/DL3048)StyleInvalid Label Key[DL3049](https://github.com/hadolint/hadolint/wiki/DL3049)InfoLabel `<label>` is missing.[DL3050](https://github.com/hadolint/hadolint/wiki/DL3050)InfoSuperfluous label(s) present.[DL3051](https://github.com/hadolint/hadolint/wiki/DL3051)WarningLabel `<label>` is empty.[DL3052](https://github.com/hadolint/hadolint/wiki/DL3052)WarningLabel `<label>` is not a valid URL.[DL3053](https://github.com/hadolint/hadolint/wiki/DL3053)WarningLabel `<label>` is not a valid time format - must conform to RFC3339.[DL3054](https://github.com/hadolint/hadolint/wiki/DL3054)WarningLabel `<label>` is not a valid SPDX license identifier.[DL3055](https://github.com/hadolint/hadolint/wiki/DL3055)WarningLabel `<label>` is not a valid git hash.[DL3056](https://github.com/hadolint/hadolint/wiki/DL3056)WarningLabel `<label>` does not conform to semantic versioning.[DL3057](https://github.com/hadolint/hadolint/wiki/DL3057)Ignore`HEALTHCHECK` instruction missing.[DL3058](https://github.com/hadolint/hadolint/wiki/DL3058)WarningLabel `<label>` is not a valid email format - must conform to RFC5322.[DL3059](https://github.com/hadolint/hadolint/wiki/DL3059)InfoMultiple consecutive `RUN` instructions. Consider consolidation.[DL3060](https://github.com/hadolint/hadolint/wiki/DL3060)Info`yarn cache clean` missing after `yarn install` was run.[DL3061](https://github.com/hadolint/hadolint/wiki/DL3061)ErrorInvalid instruction order. Dockerfile must begin with `FROM`, `ARG` or comment.[DL3062](https://github.com/hadolint/hadolint/wiki/DL3061)WarningPin versions in go install. Instead of `go install <package>` use `go install <package>@<version>`[DL4000](https://github.com/hadolint/hadolint/wiki/DL4000)Error`MAINTAINER` is deprecated.[DL4001](https://github.com/hadolint/hadolint/wiki/DL4001)WarningEither use Wget or Curl but not both.[DL4003](https://github.com/hadolint/hadolint/wiki/DL4003)WarningMultiple `CMD` instructions found.[DL4004](https://github.com/hadolint/hadolint/wiki/DL4004)ErrorMultiple `ENTRYPOINT` instructions found.[DL4005](https://github.com/hadolint/hadolint/wiki/DL4005)WarningUse `SHELL` to change the default shell.[DL4006](https://github.com/hadolint/hadolint/wiki/DL4006)WarningSet the `SHELL` option -o pipefail before `RUN` with a pipe in it[SC1000](https://github.com/koalaman/shellcheck/wiki/SC1000)`$` is not used specially and should therefore be escaped.[SC1001](https://github.com/koalaman/shellcheck/wiki/SC1001)This `\\c` will be a regular `'c'` in this context.[SC1007](https://github.com/koalaman/shellcheck/wiki/SC1007)Remove space after `=` if trying to assign a value (or for empty string, use `var='' ...`).[SC1010](https://github.com/koalaman/shellcheck/wiki/SC1010)Use semicolon or linefeed before `done` (or quote to make it literal).[SC1018](https://github.com/koalaman/shellcheck/wiki/SC1018)This is a unicode non-breaking space. Delete it and retype as space.[SC1035](https://github.com/koalaman/shellcheck/wiki/SC1035)You need a space here[SC1045](https://github.com/koalaman/shellcheck/wiki/SC1045)It's not `foo &; bar`, just `foo & bar`.[SC1065](https://github.com/koalaman/shellcheck/wiki/SC1065)Trying to declare parameters? Don't. Use `()` and refer to params as `$1`, `$2` etc.[SC1066](https://github.com/koalaman/shellcheck/wiki/SC1066)Don't use $ on the left side of assignments.[SC1068](https://github.com/koalaman/shellcheck/wiki/SC1068)Don't put spaces around the `=` in assignments.[SC1077](https://github.com/koalaman/shellcheck/wiki/SC1077)For command expansion, the tick should slant left (` vs \u00b4).[SC1078](https://github.com/koalaman/shellcheck/wiki/SC1078)Did you forget to close this double-quoted string?[SC1079](https://github.com/koalaman/shellcheck/wiki/SC1079)This is actually an end quote, but due to next char, it looks suspect.[SC1081](https://github.com/koalaman/shellcheck/wiki/SC1081)Scripts are case sensitive. Use `if`, not `If`.[SC1083](https://github.com/koalaman/shellcheck/wiki/SC1083)This `{/}` is literal. Check expression (missing `;/\\n`?) or quote it.[SC1086](https://github.com/koalaman/shellcheck/wiki/SC1086)Don't use `$` on the iterator name in for loops.[SC1087](https://github.com/koalaman/shellcheck/wiki/SC1087)Braces are required when expanding arrays, as in `${array[idx]}`.[SC1091](https://github.com/koalaman/shellcheck/wiki/SC1091)Not following: Reasons include: file not found, no permissions, not included on the command line, not allowing shellcheck to follow files with -x, etc.[SC1095](https://github.com/koalaman/shellcheck/wiki/SC1095)You need a space or linefeed between the function name and body.[SC1097](https://github.com/koalaman/shellcheck/wiki/SC1097)Unexpected `==`. For assignment, use `=`. For comparison, use `[ .. ]` or `[[ .. ]]`.[SC1098](https://github.com/koalaman/shellcheck/wiki/SC1098)Quote/escape special characters when using `eval`, e.g. `eval \"a=(b)\"`.[SC1099](https://github.com/koalaman/shellcheck/wiki/SC1099)You need a space before the `#`.[SC2002](https://github.com/koalaman/shellcheck/wiki/SC2002)Useless cat. Consider `cmd < file | ..` or `cmd file | ..` instead.[SC2015](https://github.com/koalaman/shellcheck/wiki/SC2015)Note that `A && B || C` is not if-then-else. C may run when A is true.[SC2026](https://github.com/koalaman/shellcheck/wiki/SC2026)This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?[SC2028](https://github.com/koalaman/shellcheck/wiki/SC2028)`echo` won't expand escape sequences. Consider `printf`.[SC2035](https://github.com/koalaman/shellcheck/wiki/SC2035)Use `./*glob*` or `-- *glob*` so names with dashes won't become options.[SC2039](https://github.com/koalaman/shellcheck/wiki/SC2039)In POSIX sh, something is undefined.[SC2046](https://github.com/koalaman/shellcheck/wiki/SC2046)Quote this to prevent word splitting[SC2086](https://github.com/koalaman/shellcheck/wiki/SC2086)Double quote to prevent globbing and word splitting.[SC2140](https://github.com/koalaman/shellcheck/wiki/SC2140)Word is in the form `\"A\"B\"C\"` (B indicated). Did you mean `\"ABC\"` or `\"A\\\"B\\\"C\"`?[SC2154](https://github.com/koalaman/shellcheck/wiki/SC2154)var is referenced but not assigned.[SC2155](https://github.com/koalaman/shellcheck/wiki/SC2155)Declare and assign separately to avoid masking return values.[SC2164](https://github.com/koalaman/shellcheck/wiki/SC2164)Use `cd ... || exit` in case `cd` fails.\n\n## Develop\n\n#develop\n\nIf you are an experienced Haskeller, we would be very grateful if you would tear our code apart in a review.\n\nTo compile, you will need a recent Haskell environment and `cabal-install`.\n\n### Setup\n\n#setup\n\n1. \n\nClone repository\n\n```\ngit clone --recursive git@github.com:hadolint/hadolint.git\n```\n\n2. \n\nInstall dependencies and compile source\n\n```\ncabal configure\ncabal update\ncabal build\n```\n\n3. \n\n(Optional) Install Hadolint on your system\n\n```\ncabal install\n```\n\n### REPL\n\n#repl\n\nThe easiest way to try out the parser is using the REPL.\n\n```\n# start the repl\ncabal repl\n# overload strings to be able to use Text\n:set -XOverloadedStrings\n# import parser library\nimport Language.Docker\n# parse instruction and look at AST representation\nparseText \"FROM debian:jessie\"\n```\n\n### Tests\n\n#tests\n\nCompile with unit tests and run them:\n\n```\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\nRun integration tests:\n\n```\n./integration_test.sh\n```\n\n### AST\n\n#ast\n\nDockerfile syntax is fully described in the [Dockerfile reference](http://docs.docker.com/engine/reference/builder/). Just take a look at [Syntax.hs](https://www.stackage.org/haddock/nightly-2022-11-15/language-docker-12.0.0/Language-Docker-Syntax.html) in the `language-docker` project to see the AST definition.\n\n### Building against custom libraries\n\n#building-against-custom-libraries\n\nHadolint uses many libraries to do the dirty work. In particular, language-docker is used to parse Dockerfiles and produce an AST which then can be analyzed. To build Hadolint against a custom version of such libraries, do the following. This example uses language-docker, but it would work with any other library as well.\n\n1. In the same directory (e.g. `/home/user/repos`) clone Hadolint and language-docker git repositories\n\n```\ncd /home/user/repos\ngit clone https://github.com/hadolint/hadolint.git\ngit clone https://github.com/hadolint/language-docker.git\n```\n\n1. \n\nMake your modifications to language-docker\n\n2. \n\nIn the Hadolint repo, edit the `cabal.project` file, such that the `packages` property points to the other repo too\n\n```\n[...]\npackages:\n  .\n  ../language-docker\n[...]\n```\n\n1. Recompile Hadolint and run the tests\n\n```\ncd /home/user/repos/hadolint\ncabal configure --enable-tests\ncabal build --enable-tests\ncabal test\n```\n\n## Alternatives\n\n#alternatives\n\n- \n\nreplicatedhq/[dockerfilelint](https://github.com/replicatedhq/dockerfilelint), the other linter used by the [super-linter](https://github.com/github/super-linter/blob/main/README.md#supported-linters)\n\n- \n\nRedCoolBeans/[dockerlint](https://github.com/RedCoolBeans/dockerlint/)\n\n- \n\nprojectatomic/[dockerfile_lint](https://github.com/projectatomic/dockerfile_lint/)\n\n## About\n\n Dockerfile linter, validate inline bash, written in Haskell \n\n### Topics\n\n[docker](/topics/docker)[dockerfile](/topics/dockerfile)[haskell](/topics/haskell)[linter](/topics/linter)[static-analysis](/topics/static-analysis)[shellcheck](/topics/shellcheck)[dockerfile-linter](/topics/dockerfile-linter)\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](#GPL-3.0-1-ov-file)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n[Activity](/hadolint/hadolint/activity)[Custom properties](/hadolint/hadolint/custom-properties)\n\n### Stars\n\n[11.8k\n        stars](/hadolint/hadolint/stargazers)\n\n### Watchers\n\n[68\n        watching](/hadolint/hadolint/watchers)\n\n### Forks\n\n[484\n        forks](/hadolint/hadolint/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fhadolint%2Fhadolint&report=hadolint+%28user%29)\n\n## [Releases\n      81](/hadolint/hadolint/releases)\n\n[v2.14.0\n        \n          Latest\n      \n      Sep 22, 2025](/hadolint/hadolint/releases/tag/v2.14.0)[+ 80 releases](/hadolint/hadolint/releases)\n\n## [Packages\n      0](/orgs/hadolint/packages?repo_name=hadolint)\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n###  Uh oh! \n\nThere was an error while loading. Please reload this page.\n\n## [Contributors\n      131](/hadolint/hadolint/graphs/contributors)\n\n- https://github.com/lorenzo\n- https://github.com/lukasmartinelli\n- https://github.com/m-ildefons\n- https://github.com/apps/dependabot\n- https://github.com/zemanlx\n- https://github.com/stephengroat\n- https://github.com/bephinix\n- https://github.com/wesley-dean-flexion\n- https://github.com/kornicameister\n- https://github.com/djh82\n- https://github.com/cpennington\n- https://github.com/wfleming\n- https://github.com/markus1189\n- https://github.com/backus\n\n[+ 117 contributors](/hadolint/hadolint/graphs/contributors)\n\n## Languages\n\n- [Haskell\n          97.5%](/hadolint/hadolint/search?l=haskell)\n- [Shell\n          1.6%](/hadolint/hadolint/search?l=shell)\n- Other0.9%\n"}]}