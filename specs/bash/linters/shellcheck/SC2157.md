ShellCheck: SC2157 – Argument to implicit `-n` is always true due to literal strings.

# SC2157 – ShellCheck Wiki

[See this page on GitHub](https://github.com/koalaman/shellcheck/wiki/SC2157)

[Sitemap](index.html)

## Argument to implicit `-n` is always true due to literal strings.

(Or: Argument to -z is always false due to literal strings. )

### Problematic code:

```
#cb1-1if [ "$foo " ]
#cb1-2then
#cb1-3  echo "this is always true because of the trailing space"
#cb1-4fi
```

### Correct code:

```
#cb2-1if [ "$foo" ]
#cb2-2then
#cb2-3  echo "correctly checks value"
#cb2-4fi
```

### Rationale:

Since `[ str ]` and `[ -n str ]` check that the string is non-empty, any literal characters in the string -- including a space character like in the example -- will cause the test to always be true.

Equivalently, since `[ -z str ]` checks that the string is empty, any literal character in the string will cause the test to always be false.

Double check the string: you may have added trailing characters, or bad quotes or syntax. Some examples include:

- `[ "$foo " ]` like in the example, where the space becomes part of the string
- `[ "{$foo}" ]` instead of `[ "${foo}" ]`, where the `{` becomes part of the string
- `[ "$foo -gt 0" ]` instead of `[ "$foo" -gt "0" ]`, where the `-gt` becomes part of the string

### Exceptions:

None.

[ShellCheck](https://www.shellcheck.net) is a static analysis tool for shell scripts. This page is part of its documentation.
