ShellCheck: SC2231 – Quote expansions in this `for` loop glob to prevent word splitting, e.g. `"${dir}"/*.txt`.

# SC2231 – ShellCheck Wiki

[See this page on GitHub](https://github.com/koalaman/shellcheck/wiki/SC2231)

[Sitemap](index.html)

## Quote expansions in this `for` loop glob to prevent word splitting, e.g. `"${dir}"/*.txt`.

### Problematic code:

```
#cb1-1for file in ${dir}/*.txt
#cb1-2do
#cb1-3  echo "Found ${file}"
#cb1-4done
```

### Correct code:

```
#cb2-1for file in "${dir}"/*.txt
#cb2-2do
#cb2-3  echo "Found ${file}"
#cb2-4done
```

### Rationale:

When iterating over globs containing expansions, you can still quote all expansions in the path to better handle whitespace and special characters.

Just make sure glob characters are outside quotes. `"${dir}/*.txt"` will not glob expand, but `"${dir}"/*.txt` or `"${dir}"/*."${ext}"` will.

### Exceptions:

Exceptions similar to [SC2086](SC2086) apply. If the variable is expected to contain globs, such as if `dir="tmp/**"` in the example, you can ignore this message.

### Related resources:

- Help by adding links to BashFAQ, StackOverflow, man pages, POSIX, etc!

[ShellCheck](https://www.shellcheck.net) is a static analysis tool for shell scripts. This page is part of its documentation.
