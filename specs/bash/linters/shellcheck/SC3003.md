ShellCheck: SC3003 – In POSIX sh, `$'..'` is undefined.

# SC3003 – ShellCheck Wiki

[See this page on GitHub](https://github.com/koalaman/shellcheck/wiki/SC3003)

[Sitemap](index.html)

## In POSIX sh, `$'..'` is undefined.

### Problematic code:

```
#cb1-1#!/bin/sh
#cb1-2IFS=$' \t\n'
```

### Correct code:

```
#cb2-1#!/bin/sh
#cb2-2# Note: \n can not be last, or it will be stripped by $()
#cb2-3IFS=$(printf ' \n\t')
```

or

```
#cb3-1#!/bin/sh
#cb3-2# Trailing linefeed added literally
#cb3-3IFS="$(printf ' \t')
#cb3-4"
```

or

```
#cb4-1#!/bin/bash
#cb4-2# Bash supports this
#cb4-3IFS=$' \t\n'
```

### Rationale:

ANSI-C quoting, `$'..'`, is a `bash` extension, which is not supported by POSIX `sh`.

To ensure the script runs correctly on other systems, either switch to Bash, or rewrite it in a POSIX compatible way.

This can generally done via `printf` as in the example. Be careful about strings with trailing linefeeds, as a `$(command substitution)` will strip them.

### Exceptions:

None.

### Related resources:

- StackOverflow: [Why
does my bash code fail when I run it with sh?](https://stackoverflow.com/questions/15179446/why-does-my-bash-code-fail-when-i-run-it-with-sh)

[ShellCheck](https://www.shellcheck.net) is a static analysis tool for shell scripts. This page is part of its documentation.
