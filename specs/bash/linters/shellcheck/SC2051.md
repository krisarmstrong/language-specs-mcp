ShellCheck: SC2051 – Bash doesn't support variables in brace range expansions. 

# SC2051 – ShellCheck Wiki

[See this page on GitHub](https://github.com/koalaman/shellcheck/wiki/SC2051)

[Sitemap](index.html)

## Bash doesn't support variables in brace range expansions.

### Problematic code:

```
#cb1-1for i in {1..$n}
#cb1-2do
#cb1-3  echo "$i"
#cb1-4done
```

### Correct code:

```
#cb2-1for ((i=1; i <= n; i++))
#cb2-2do
#cb2-3  echo "$i"
#cb2-4done
```

### Rationale:

In Bash, brace expansion happens before variable expansion. This means that brace expansion will not account for variables.

For integers, use an arithmetic for loop instead. For zero-padded numbers or letters, use of eval may be warranted:

```
#cb3-1from="a" to="m"
#cb3-2for c in $(eval "echo {$from..$to}"); do echo "$c"; done
```

or more carefully (if `from`/`to` could be user input, or if the brace expansion could have spaces):

```
#cb4-1from="a" to="m"
#cb4-2while IFS= read -d '' -r c
#cb4-3do
#cb4-4  echo "Read $c"
#cb4-5done <  <(eval "printf '%s\0' $(printf "{%q..%q}.jpg" "$from" "$to")")
```

### Exceptions

None (if you're writing for e.g. zsh, you can use a directive to disable this check)

### Related Resources:

- [StackOverflow:
Variables in bash seq replacement ({1..10})](https://stackoverflow.com/questions/169511/how-do-i-iterate-over-a-range-of-numbers-defined-by-variables-in-bash)

[ShellCheck](https://www.shellcheck.net) is a static analysis tool for shell scripts. This page is part of its documentation.
