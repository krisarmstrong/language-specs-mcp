ShellCheck: SC2189 – You can't have `|` between this redirection and the command it should apply to.

# SC2189 – ShellCheck Wiki

[See this page on GitHub](https://github.com/koalaman/shellcheck/wiki/SC2189)

[Sitemap](index.html)

## You can't have `|` between this redirection and the command it should apply to.

### Problematic code:

```
#cb1-1< file.txt | grep foo
```

### Correct code:

```
#cb2-1< file.txt grep foo   # or more canonically: grep foo < file.txt
```

### Rationale:

ShellCheck has found a stage in a pipeline that consists of a redirection but no command. This doesn't make sense because a redirection without a command will not read or write any data.

This is most likely to occur when deleting a command that had a redirection, but leaving a `|` behind instead of moving the redirection to a different command:

```
#cb3-1# Match lines with line numbers
#cb3-2nl < foo.txt | grep bar
#cb3-3
#cb3-4# Incorrect attempt at removing line numbers. grep now has no input:
#cb3-5< foo.txt | grep bar
#cb3-6
#cb3-7# Line numbers correctly removed. grep now reads foo.txt as intended.
#cb3-8grep bar < foo.txt
```

### Exceptions:

It's technically valid to do e.g. `echo foo | > "$(cat)"` to truncate a file called "foo", but please consider rewriting such code.

[ShellCheck](https://www.shellcheck.net) is a static analysis tool for shell scripts. This page is part of its documentation.
