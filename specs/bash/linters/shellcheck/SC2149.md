ShellCheck: SC2149 – Remove `$`/`${}` for numeric index, or escape it for string.

# SC2149 – ShellCheck Wiki

[See this page on GitHub](https://github.com/koalaman/shellcheck/wiki/SC2149)

[Sitemap](index.html)

## Remove `$`/`${}` for numeric index, or escape it for string.

Note: Removed in [v0.5.0
- 2018-06-01](https://github.com/koalaman/shellcheck/commit/d16bf41c3d0785732394e5d9ff0830525cf5ea79)

### Problematic code:

```
#cb1-1# Regular array
#cb1-2index=42
#cb1-3echo $((array[$index]))
```

or

```
#cb2-1# Associative array
#cb2-2index=banana
#cb2-3echo $((array[$index]))
```

### Correct code:

```
#cb3-1# Regular array
#cb3-2index=42
#cb3-3echo $((array[index]))
```

or

```
#cb4-1# Associative array
#cb4-2index=banana
#cb4-3echo $((array[\$index]))
```

### Rationale:

For a numerically indexed array, the `$` is mostly pointless and can be removed like in [SC2004](SC2004).

For associative arrays, the `$` should be escaped to avoid accidental dereferencing:

```
#cb5-1declare -A array
#cb5-2index='$1'
#cb5-3array[$index]=42
#cb5-4echo "$(( array[$index] ))"    # bash: array: bad array subscript
#cb5-5echo "$(( array[\$index] ))"   # 42
```

### Exceptions

None.

[ShellCheck](https://www.shellcheck.net) is a static analysis tool for shell scripts. This page is part of its documentation.
