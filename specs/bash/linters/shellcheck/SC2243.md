ShellCheck: SC2243 – Prefer explicit `-n` to check for output (or run command without `[`/`[[` to check for success)

# SC2243 – ShellCheck Wiki

[See this page on GitHub](https://github.com/koalaman/shellcheck/wiki/SC2243)

[Sitemap](index.html)

## Prefer explicit `-n` to check for output (or run command without `[`/`[[` to check for success)

### Optional - `avoid-nullary-conditions`

This is an [optional](optional) rule, which means that it has a special "long name" and is not enabled by default. See the [optional](optional) page for more details. In short, you have to enable it with the long name instead of the "SC" code like you would with a normal rule:

#### `.shellcheckrc`

```
enable=avoid-nullary-conditions # SC2243
```

### Problematic code:

```
#cb2-1if [ "$(mycommand --myflags)" ]
#cb2-2then
#cb2-3  echo "True"
#cb2-4fi
```

### Correct code:

```
#cb3-1# Check that the command outputs something on stdout
#cb3-2if [ -n "$(mycommand --myflags)" ]
#cb3-3then
#cb3-4  echo "The command had output on stdout"
#cb3-5fi
#cb3-6
#cb3-7# Check instead that the command succeeded (exit code = 0)
#cb3-8if mycommand --myflags
#cb3-9then
#cb3-10  echo "The command reported success"
#cb3-11fi
```

(if the command instead outputs "0" or "false", see [SC2244](SC2244) for integer and "boolean" comparisons)

### Rationale:

`[ "$(mycommand)" ]` is equivalent to `[ -n "$(mycommand)" ]` and checks whether the command's output on stdout was non-empty.

Users more familiar with other languages are often surprised to learn that it is nothing like e.g. `if (myfunction())`, since it does not care about what the command/function `return`s.

Using an explicit `-n` helps clarify that this is purely a string operation. And of course, if the intention was to check whether the command ran successfully, now would be a good time to fix it as in the alternate example.

### Exceptions:

If you are familiar with the semantics of `[`, you can [ignore](ignore) this suggestion with no ill effects.

### Related resources:

- Help by adding links to BashFAQ, StackOverflow, man pages, POSIX, etc!

[ShellCheck](https://www.shellcheck.net) is a static analysis tool for shell scripts. This page is part of its documentation.
