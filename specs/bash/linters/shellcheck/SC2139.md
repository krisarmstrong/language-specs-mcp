ShellCheck: SC2139 – This expands when defined, not when used. Consider escaping.

# SC2139 – ShellCheck Wiki

[See this page on GitHub](https://github.com/koalaman/shellcheck/wiki/SC2139)

[Sitemap](index.html)

## This expands when defined, not when used. Consider escaping.

### Problematic code:

```
#cb1-1alias whereami="echo $PWD"
```

### Correct code:

```
#cb2-1alias whereami='echo $PWD'
```

### Rationale:

With double quotes, this particular alias will be defined as `echo /home/me`, so it will always print the same path. This is rarely intended.

By using single quotes or escaping any expansions, we define the alias as `echo $PWD`, which will be expanded when we use the alias. This is the far more common use case.

Note that even if you expect that the variable will never change, it may still be better to quote it. This prevents a second round of evaluation later:

```
default="Can't handle failure, aborting"
trap "echo $default; exit 1" err
false 
```

The trap now has a syntax error, because instead of running `echo $default`, it runs `echo Can't handle ..` which has an unmatched single quote. Avoid early expansion unless you're equally comfortable putting `eval` in there.

### Exceptions

If you don't mind that your alias definition is expanded at define time (and its result expanded again at evaluation time), you can ignore this warning.

[ShellCheck](https://www.shellcheck.net) is a static analysis tool for shell scripts. This page is part of its documentation.
