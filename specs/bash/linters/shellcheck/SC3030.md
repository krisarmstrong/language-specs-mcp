ShellCheck: SC3030 – In POSIX sh, arrays are undefined.

# SC3030 – ShellCheck Wiki

[See this page on GitHub](https://github.com/koalaman/shellcheck/wiki/SC3030)

[Sitemap](index.html)

## In POSIX sh, arrays are undefined.

### Problematic code:

```
#cb1-1#!/bin/sh
#cb1-2x=( foo bar "Hello World" )
#cb1-3for word in "${x[@]}"
#cb1-4do
#cb1-5  touch "$word.dat"
#cb1-6done
```

### Correct code:

Consider switching to a shell that does support arrays, such as `bash` or `ksh`, by changing the shebang.

Alternatively, if you only need a single array at a time, you may be able to rewrite to use the positional parameters:

```
#cb2-1set -- foo bar "Hello World"
#cb2-2for word in "$@"
#cb2-3do
#cb2-4  touch "$word.dat"
#cb2-5done
```

or strings with carefully chosen delimiters:

```
#cb3-1x='foo
#cb3-2bar
#cb3-3Hello World
#cb3-4'
#cb3-5
#cb3-6printf '%s' "$x" |
#cb3-7  while IFS='' read -r word
#cb3-8  do
#cb3-9    touch "$word.dat"
#cb3-10  done
```

### Rationale:

Arrays are specific to Bash and Ksh, but you are using them in a script declared to run with `sh` or `dash`. These shells do not support arrays at all. You should either switch to Bash/Ksh, or rewrite the script to not use arrays.

There are no great replacements, especially none that can be mechanically applied, but using the positional parameters or a delimited string works in many cases, as shown in the examples.

### Exceptions:

None.

### Related resources:

- Help by adding links to BashFAQ, StackOverflow, man pages, POSIX, etc!

[ShellCheck](https://www.shellcheck.net) is a static analysis tool for shell scripts. This page is part of its documentation.
