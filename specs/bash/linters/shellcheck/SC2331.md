ShellCheck: SC2331 – For file existence, prefer standard -e over legacy -a.

# SC2331 – ShellCheck Wiki

[See this page on GitHub](https://github.com/koalaman/shellcheck/wiki/SC2331)

[Sitemap](index.html)

## For file existence, prefer standard -e over legacy -a.

### Problematic code:

```
#cb1-1if [ -a ~/.bash_aliases ]
#cb1-2then
#cb1-3  source ~/.bash_aliases
#cb1-4fi
```

### Correct code:

```
#cb2-1if [ -e ~/.bash_aliases ]
#cb2-2then
#cb2-3  source ~/.bash_aliases
#cb2-4fi
```

### Rationale:

The POSIX standard way to check whether a file exists is `[ -e file ]`.

Bash and Ksh have historically allowed using `-a`, but this has no benefit and some potential downsides. For example, in Bash `[ -a file ]` is true when the file exists, but `[ ! -a file ]` is also true, and unconditionally so, because `-a` is treated as logical "and" between non-empty strings.

Avoid the ambiguity entirely by always using the standard, portable `-e`.

### Exceptions:

None

### Related resources:

- Help by adding links to BashFAQ, StackOverflow, man pages, POSIX, etc!

[ShellCheck](https://www.shellcheck.net) is a static analysis tool for shell scripts. This page is part of its documentation.
