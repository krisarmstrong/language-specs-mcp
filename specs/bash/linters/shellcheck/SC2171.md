ShellCheck: SC2171 – Found trailing `]` outside test. Add missing `[` or quote if intentional.

# SC2171 – ShellCheck Wiki

[See this page on GitHub](https://github.com/koalaman/shellcheck/wiki/SC2171)

[Sitemap](index.html)

## Found trailing `]` outside test. Add missing `[` or quote if intentional.

### Problematic code:

```
#cb1-1if foo -eq bar ]; then true; fi
```

or

```
#cb2-1tr -d ]
```

### Correct code:

```
#cb3-1if [ foo -eq bar ]; then true; fi
```

or

```
#cb4-1tr -d ']'
```

### Rationale:

ShellCheck found a non-test command that ends with `]` or `]]`.

If this was intended to be a test expression like in the first example, add the missing `[` or `[[`.

If the `]` was intended to be literal, like in `tr -d ]`, you can quote to make this obvious.

### Exceptions:

`tr -d ]` is valid and not different from `tr -d ']'`, so in these cases you can ignore the error instead.

### Related resources:

- Help by adding links to BashFAQ, StackOverflow, man pages, POSIX, etc!

[ShellCheck](https://www.shellcheck.net) is a static analysis tool for shell scripts. This page is part of its documentation.
