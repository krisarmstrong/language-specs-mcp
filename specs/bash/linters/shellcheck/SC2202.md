ShellCheck: SC2202 – Globs don't work as operands in `[ ]`. Use a loop.

# SC2202 – ShellCheck Wiki

[See this page on GitHub](https://github.com/koalaman/shellcheck/wiki/SC2202)

[Sitemap](index.html)

## Globs don't work as operands in `[ ]`. Use a loop.

### Problematic code:

```
#cb1-1[ current.log -nt backup/*.log ] && echo "This is the latest file"
```

### Correct code:

```
#cb2-1newerThanAll=true
#cb2-2for log in backup/*.log
#cb2-3do
#cb2-4  [ current.log -nt "$log" ] || newerThanAll=false
#cb2-5done
#cb2-6[ "$newerThanAll" = "true" ] && echo "This is the latest file"
```

### Rationale:

Globs in `[ ]` will expand to a sequence of words, one per matching filename. Meanwhile, operators work on single words.

The problematic code is equivalent to `[ current.log -nt backup/file1.log backup/file2.log backup/file3.log ]`, which is invalid syntax. A typical error message is `bash: [: too many arguments` or `dash: somefile: unexpected operator`.

Instead, use a `for` loop to iterate over matching filenames, and apply your condition to each.

### Exceptions:

If you know your glob will only ever match one file, you can check this explicitly and use the first file:

```
#cb3-1set -- backup/*.log
#cb3-2[ $# -eq 1 ] || { echo "There are too many matches."; exit 1; }
#cb3-3[ file.log -nt "$1" ] && echo "This is the latest file"
```

Alternatively, [ignore](ignore) this warning.

[ShellCheck](https://www.shellcheck.net) is a static analysis tool for shell scripts. This page is part of its documentation.
