ShellCheck: SC2059 – Don't use variables in the `printf` format string. Use `printf "..%s.." "$foo"`.

# SC2059 – ShellCheck Wiki

[See this page on GitHub](https://github.com/koalaman/shellcheck/wiki/SC2059)

[Sitemap](index.html)

# Don't use variables in the `printf` format string. Use `printf "..%s.." "$foo"`.

### Problematic code:

```
#cb1-1printf "Hello, $NAME\n"
```

### Correct code:

```
#cb2-1printf "Hello, %s\n" "$NAME"
```

### Rationale:

`printf` interprets escape sequences and format specifiers in the format string. If variables are included, any escape sequences or format specifiers in the data will be interpreted too, when you most likely wanted to treat it as data. Example:

```
#cb3-1coverage='96%'
#cb3-2printf "Unit test coverage: %s\n" "$coverage"
#cb3-3printf "Unit test coverage: $coverage\n"
```

The first printf writes `Unit test coverage: 96%`.

The second writes `bash: printf: `\': invalid format character`

Sometimes you may actually want to interpret data as a format string, like in:

```
#cb4-1octToAscii() { printf "\\$1"; }
#cb4-2octToAscii 130
```

In this case, use the `%b` format specifier that expands escape sequences without interpreting other format specifiers:

```
#cb5-1octToAscii() { printf '%b' "\0$1"; }
#cb5-2octToAscii 130
```

### Exceptions:

Sometimes you might have a pattern in a variable:

```
#cb6-1filepattern="file-%d.jpg"
#cb6-2printf -v filename "$filepattern" "$number"
```

This has no good rewrite. Please [ignore](ignore) the warning with a [directive](directive).

### Related resources:

- [https://pubs.opengroup.org/onlinepubs/9799919799/utilities/printf.html](https://pubs.opengroup.org/onlinepubs/9799919799/utilities/printf.html)

[ShellCheck](https://www.shellcheck.net) is a static analysis tool for shell scripts. This page is part of its documentation.
