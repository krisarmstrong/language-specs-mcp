ShellCheck: SC3045 – In POSIX sh, some-command-with-flag is undefined.

# SC3045 – ShellCheck Wiki

[See this page on GitHub](https://github.com/koalaman/shellcheck/wiki/SC3045)

[Sitemap](index.html)

## In POSIX sh, some-command-with-flag is undefined.

(or "In dash, ... is not supported." when using `dash`)

### Problematic code:

ShellCheck has noticed you're using flags for commands that don't necessarily support them. Some examples:

```
#cb1-1#!/bin/sh
#cb1-2read   -e   # Using libreadline
#cb1-3export -f   # Exporting functions
#cb1-4ulimit -v   # Setting vspace limits
#cb1-5wait   -n   # Waiting for a single process
```

### Correct code:

There are generally no simple rewrites. The easiest solution is instead to change the shebang and switch to a shell that does support the features you want, such as `bash`.

Alternatively, look up how to do what you want to do in POSIX sh.

### Rationale:

External commands (`grep`, `ls`, `find`) invoke a binary on the system and therefore accept the same flags from all shells.

However, some commands are instead built into the shell and therefore accept different flags depending on which shell is running them.

You have specified `sh` or `dash` in the shebang, but the flags you are using only works when it's executed in e.g. `bash`. You should either explicitly declare that the script requires `bash` to run, or you should only use features that work on all shells.

### Exceptions:

If the code is gated on a check of the current shell, you can [ignore](ignore) this warning.

### Related resources:

- Help by adding links to BashFAQ, StackOverflow, man pages, POSIX, etc!

[ShellCheck](https://www.shellcheck.net) is a static analysis tool for shell scripts. This page is part of its documentation.
