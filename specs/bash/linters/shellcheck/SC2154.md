ShellCheck: SC2154 – var is referenced but not assigned.

# SC2154 – ShellCheck Wiki

[See this page on GitHub](https://github.com/koalaman/shellcheck/wiki/SC2154)

[Sitemap](index.html)

## var is referenced but not assigned.

### Optional - `check-unassigned-uppercase`

This is an [optional](optional) rule, which means that it has a special "long name" and is not enabled by default. See the [optional](optional) page for more details. In short, you have to enable it with the long name instead of the "SC" code like you would with a normal rule:

#### `.shellcheckrc`

```
enable=check-unassigned-uppercase # SC2154
```

### Problematic code:

```
#cb2-1var=name
#cb2-2n=42
#cb2-3echo "$var_$n.jpg"   # overextended
```

or

```
#cb3-1target="world"
#cb3-2echo "hello $tagret"  # misspelled
```

or

```
#cb4-1echo "Result: ${mycmd -a myfile}"  # trying to execute commands
```

### Correct code:

```
#cb5-1var=name
#cb5-2n=42
#cb5-3echo "${var}_${n}.jpg"
```

or

```
#cb6-1target="world"
#cb6-2echo "hello $target"
```

or

```
#cb7-1echo "Result: $(mycmd -a myfile)"
```

### Rationale:

ShellCheck has noticed that you reference a variable that is not assigned. Double check that the variable is indeed assigned, and that the name is not misspelled.

Note: This message only triggers for variables with lowercase characters in their name (`foo` and `kFOO` but not `FOO`) due to the standard convention of using lowercase variable names for unexported, local variables.

### Exceptions:

ShellCheck intentionally does not attempt to figure out runtime or dynamic assignments like with `source "$(date +%F).sh"` or `eval var=value`. See [SC2034](SC2034) for an extended discussion of why this is the case.

If you know for a fact that the variable is set, you can use `${var:?}` to fail if the variable is unset (or empty), initialize it to a default value if uninitialized with `: "${var:=}"`, or explicitly initialize/declare it with `var=""` or `declare var`. You can also disable the message with a [directive](directive).

## Read more:

POSIX - Parameter expansion:

- [https://stackoverflow.com/a/16753536/2309247](https://stackoverflow.com/a/16753536/2309247)
- [http://pubs.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html#tag_18_06_02](http://pubs.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html#tag_18_06_02)

[ShellCheck](https://www.shellcheck.net) is a static analysis tool for shell scripts. This page is part of its documentation.
