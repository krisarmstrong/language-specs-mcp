ShellCheck: SC3062 – In POSIX sh, unary -o to check options is undefined.

# SC3062 – ShellCheck Wiki

[See this page on GitHub](https://github.com/koalaman/shellcheck/wiki/SC3062)

[Sitemap](index.html)

## In POSIX sh, unary -o to check options is undefined.

### Problematic code:

```
#cb1-1if [ -o braceexpand ]
#cb1-2then
#cb1-3 echo "Brace expansion available and enabled."
#cb1-4fi
```

### Correct code:

`$-` will be set to a list of shell options:

```
#cb2-1case $- of
#cb2-2  *B*) echo "Brace expansion available and enabled."
#cb2-3esac 
```

However, not all options are available through `$-`. If you need to check those, ignore this suggestion with a directive:

```
#cb3-1# shellcheck disable=SC3062
#cb3-2if [ -n "$BASH_VERSION" ] && [ -o pipefail ]
#cb3-3then
#cb3-4  echo "This is bash and pipefail is enabled."
#cb3-5fi
```

### Rationale:

`[ -o option ]` is a bash/ksh extension, while `$-` is standard POSIX. Do note that letters outside the POSIX set are not guaranteed to be compatible, such as `B` above.

### Exceptions:

As described.

### Related resources:

- Help by adding links to BashFAQ, StackOverflow, man pages, POSIX, etc!

[ShellCheck](https://www.shellcheck.net) is a static analysis tool for shell scripts. This page is part of its documentation.
