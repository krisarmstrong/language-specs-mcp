ShellCheck: SC2070 – `-n` doesn't work with unquoted arguments. Quote or use `[[ ]]`.

# SC2070 – ShellCheck Wiki

[See this page on GitHub](https://github.com/koalaman/shellcheck/wiki/SC2070)

[Sitemap](index.html)

## `-n` doesn't work with unquoted arguments. Quote or use `[[ ]]`.

### Problematic code:

```
#cb1-1if [ -n $var ]
#cb1-2then
#cb1-3  echo "var has a value"
#cb1-4else
#cb1-5  echo "var is empty"
#cb1-6fi
```

### Correct code:

In POSIX:

```
#cb2-1if [ -n "$var" ]
#cb2-2then
#cb2-3  echo "var has a value"
#cb2-4else
#cb2-5  echo "var is empty"
#cb2-6fi
```

In bash/ksh:

```
#cb3-1if [[ -n $var ]]
#cb3-2then
#cb3-3  echo "var has a value"
#cb3-4else
#cb3-5  echo "var is empty"
#cb3-6fi
```

### Rationale:

When `$var` is unquoted, a blank value will cause it to wordsplit and disappear. If `$var` is empty, these two statements are identical:

```
#cb4-1[ -n $var ]
#cb4-2[ -n ]
```

`[ string ]` is shorthand for testing if a string is empty. This is still true if `string` happens to be `-n`. `[ -n ]` is therefore true, and by extension so is `[ -n $var ]`.

To fix this, either quote the variable, or (if your shell supports it) use `[[ -n $var ]]` which generally has fewer caveats than `[`.

### Exceptions:

None

[ShellCheck](https://www.shellcheck.net) is a static analysis tool for shell scripts. This page is part of its documentation.
