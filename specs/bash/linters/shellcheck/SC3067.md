ShellCheck: SC3067 – In POSIX sh, test -O is undefined.

# SC3067 – ShellCheck Wiki

[See this page on GitHub](https://github.com/koalaman/shellcheck/wiki/SC3067)

[Sitemap](index.html)

## In POSIX sh, test -O is undefined.

### Problematic code:

```
#cb1-1if [ -O file ]
#cb1-2then
#cb1-3  echo "File is owned by you"
#cb1-4fi
```

### Correct code:

```
#cb2-1if [ -n "$(find file -prune -user "$(id -u)")" ]
#cb2-2then
#cb2-3  echo "File is owned by you"
#cb2-4fi
```

### Rationale:

`test -O` is a bash/ksh/dash/ash extension to check whether the file is owned by you.

To ensure compatibility with other shells, you can use `find -user "$(id -u)"`.

### Exceptions:

If you expect your shell to support `test -O`, specify this explicitly in the shebang (or with `# shellcheck shell=dash` directive).

### Related resources:

- Help by adding links to BashFAQ, StackOverflow, man pages, POSIX, etc!

[ShellCheck](https://www.shellcheck.net) is a static analysis tool for shell scripts. This page is part of its documentation.
