ShellCheck: SC2332 – [ ! -o opt ] is always true because -o becomes logical OR. Use [[ ]] or ! [ -o opt ].

# SC2332 – ShellCheck Wiki

[See this page on GitHub](https://github.com/koalaman/shellcheck/wiki/SC2332)

[Sitemap](index.html)

## [ ! -o opt ] is always true because -o becomes logical OR. Use [[ ]] or ! [ -o opt ].

Or "`[ ! -a file ]` is always true because `-a` becomes logical AND. Use `-e` instead."

### Problematic code:

```
#cb1-1if [ ! -o braceexpand ]
#cb1-2then 
#cb1-3  ..
#cb1-4fi
```

### Correct code:

```
#cb2-1if [[ ! -o braceexpand ]]
#cb2-2then 
#cb2-3  ..
#cb2-4fi
```

or

```
#cb3-1if ! [ -o braceexpand ]
#cb3-2then 
#cb3-3  ..
#cb3-4fi
```

### Rationale:

Bash interprets `[ ! -o opt ]` as `[ "!" ] || [ "opt" ]` instead of negating the condition. As a result, the condition is always true.

Avoid this by using `[[ ! -o opt ]]` or `! [ -o opt ]`.

The same issue applies to `[ ! -a file ]`, but this is easier fixed using POSIX standard `[ ! -e file ]`.

### Exceptions:

None.

### Related resources:

- Help by adding links to BashFAQ, StackOverflow, man pages, POSIX, etc!

[ShellCheck](https://www.shellcheck.net) is a static analysis tool for shell scripts. This page is part of its documentation.
