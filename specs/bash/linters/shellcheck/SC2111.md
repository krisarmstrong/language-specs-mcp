ShellCheck: SC2111 – ksh does not allow `function` keyword and `()` at the same time.

# SC2111 – ShellCheck Wiki

[See this page on GitHub](https://github.com/koalaman/shellcheck/wiki/SC2111)

[Sitemap](index.html)

## ksh does not allow `function` keyword and `()` at the same time.

### Problematic code:

```
#cb1-1#!/bin/ksh
#cb1-2function foo() {
#cb1-3  echo "Hello World"
#cb1-4}
```

### Correct code:

```
#cb2-1# POSIX sh function
#cb2-2foo() {
#cb2-3  echo "Hello World"
#cb2-4}
```

or

```
#cb3-1# ksh extended function
#cb3-2function foo {
#cb3-3  echo "Hello World"
#cb3-4}
```

### Rationale:

Ksh allows two ways of defining functions: POSIX sh style `foo() { ..; }` and Ksh specific `function foo { ..; }`.

ShellCheck found a function definition that uses both at the same time, `function foo() { ..; }` which is not allowed. Use one or the other.

Note that the two are not identical, for example:

- Using `typeset` in a `function foo` will create a local variable, while in `foo()` it will create a global variable.
- `function foo` has its own trap context, while `foo()` shares them with the current process.
- `function foo` will set `$0` to foo, while `foo()` will inherit `$0` from the current process.

### Exceptions:

In Bash, `function foo() { ..; }` is allowed, and `function foo` and `foo()` are identical. This warning does not trigger when the shebang is e.g. `#!/bin/bash`.

### Related resources:

- Help by adding links to BashFAQ, StackOverflow, man pages, POSIX, etc!

[ShellCheck](https://www.shellcheck.net) is a static analysis tool for shell scripts. This page is part of its documentation.
