GitHub - mvdan/sh: A shell parser, formatter, and interpreter with bash support; includes shfmt[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation/[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmvdan%2Fsh)Appearance settings

- Platform

  - AI CODE CREATION

    - [GitHub CopilotWrite better code with AI](https://github.com/features/copilot)
    - [GitHub SparkBuild and deploy intelligent apps](https://github.com/features/spark)
    - [GitHub ModelsManage and compare prompts](https://github.com/features/models)
    - [MCP RegistryNewIntegrate external tools](https://github.com/mcp)

  - DEVELOPER WORKFLOWS

    - [ActionsAutomate any workflow](https://github.com/features/actions)
    - [CodespacesInstant dev environments](https://github.com/features/codespaces)
    - [IssuesPlan and track work](https://github.com/features/issues)
    - [Code ReviewManage code changes](https://github.com/features/code-review)

  - APPLICATION SECURITY

    - [GitHub Advanced SecurityFind and fix vulnerabilities](https://github.com/security/advanced-security)
    - [Code securitySecure your code as you build](https://github.com/security/advanced-security/code-security)
    - [Secret protectionStop leaks before they start](https://github.com/security/advanced-security/secret-protection)

  - EXPLORE

    - [Why GitHub](https://github.com/why-github)
    - [Documentation](https://docs.github.com)
    - [Blog](https://github.blog)
    - [Changelog](https://github.blog/changelog)
    - [Marketplace](https://github.com/marketplace)

[View all features](https://github.com/features)
- Solutions

  - BY COMPANY SIZE

    - [Enterprises](https://github.com/enterprise)
    - [Small and medium teams](https://github.com/team)
    - [Startups](https://github.com/enterprise/startups)
    - [Nonprofits](https://github.com/solutions/industry/nonprofits)

  - BY USE CASE

    - [App Modernization](https://github.com/solutions/use-case/app-modernization)
    - [DevSecOps](https://github.com/solutions/use-case/devsecops)
    - [DevOps](https://github.com/solutions/use-case/devops)
    - [CI/CD](https://github.com/solutions/use-case/ci-cd)
    - [View all use cases](https://github.com/solutions/use-case)

  - BY INDUSTRY

    - [Healthcare](https://github.com/solutions/industry/healthcare)
    - [Financial services](https://github.com/solutions/industry/financial-services)
    - [Manufacturing](https://github.com/solutions/industry/manufacturing)
    - [Government](https://github.com/solutions/industry/government)
    - [View all industries](https://github.com/solutions/industry)

[View all solutions](https://github.com/solutions)
- Resources

  - EXPLORE BY TOPIC

    - [AI](https://github.com/resources/articles?topic=ai)
    - [Software Development](https://github.com/resources/articles?topic=software-development)
    - [DevOps](https://github.com/resources/articles?topic=devops)
    - [Security](https://github.com/resources/articles?topic=security)
    - [View all topics](https://github.com/resources/articles)

  - EXPLORE BY TYPE

    - [Customer stories](https://github.com/customer-stories)
    - [Events & webinars](https://github.com/resources/events)
    - [Ebooks & reports](https://github.com/resources/whitepapers)
    - [Business insights](https://github.com/solutions/executive-insights)
    - [GitHub Skills](https://skills.github.com)

  - SUPPORT & SERVICES

    - [Documentation](https://docs.github.com)
    - [Customer support](https://support.github.com)
    - [Community forum](https://github.com/orgs/community/discussions)
    - [Trust center](https://github.com/trust-center)
    - [Partners](https://github.com/partners)

- Open Source

  - COMMUNITY

    - [GitHub SponsorsFund open source developers](https://github.com/sponsors)

  - PROGRAMS

    - [Security Lab](https://securitylab.github.com)
    - [Maintainer Community](https://maintainers.github.com)
    - [Accelerator](https://github.com/accelerator)
    - [Archive Program](https://archiveprogram.github.com)

  - REPOSITORIES

    - [Topics](https://github.com/topics)
    - [Trending](https://github.com/trending)
    - [Collections](https://github.com/collections)

- Enterprise

  - ENTERPRISE SOLUTIONS

    - [Enterprise platformAI-powered developer platform](https://github.com/enterprise)

  - AVAILABLE ADD-ONS

    - [GitHub Advanced SecurityEnterprise-grade security features](https://github.com/security/advanced-security)
    - [Copilot for BusinessEnterprise-grade AI features](https://github.com/features/copilot/copilot-business)
    - [Premium SupportEnterprise-grade 24/7 support](https://github.com/premium-support)

- [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

 Search Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

#  Provide feedback 

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted Cancel  Submit feedback 

#  Saved searches 

## Use saved searches to filter your results more quickly

NameQuery

 To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax). 

 Cancel  Create saved search [Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmvdan%2Fsh)[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=mvdan%2Fsh)Appearance settingsResetting focusYou signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert{{ message }}[mvdan](/mvdan)/[sh](/mvdan/sh)Public

- 

###  Uh oh! 

There was an error while loading. Please reload this page.

- [Notifications](/login?return_to=%2Fmvdan%2Fsh)You must be signed in to change notification settings
- [Fork
    374](/login?return_to=%2Fmvdan%2Fsh)
- [Star
          8.4k](/login?return_to=%2Fmvdan%2Fsh)

 A shell parser, formatter, and interpreter with bash support; includes shfmt 

[pkg.go.dev/mvdan.cc/sh/v3](https://pkg.go.dev/mvdan.cc/sh/v3)

### License

[BSD-3-Clause license](/mvdan/sh/blob/master/LICENSE)[8.4k
          stars](/mvdan/sh/stargazers)[374
          forks](/mvdan/sh/forks)[Branches](/mvdan/sh/branches)[Tags](/mvdan/sh/tags)[Activity](/mvdan/sh/activity)[Star](/login?return_to=%2Fmvdan%2Fsh)[Notifications](/login?return_to=%2Fmvdan%2Fsh)You must be signed in to change notification settings

- [Code](/mvdan/sh)
- [Issues
          98](/mvdan/sh/issues)
- [Pull requests
          0](/mvdan/sh/pulls)
- [Discussions](/mvdan/sh/discussions)
- [Actions](/mvdan/sh/actions)
- 

### 

[Security
          
  
  
    
  
    
      

              Uh oh!

              There was an error while loading. Please reload this page](/mvdan/sh/security).

- [Insights](/mvdan/sh/pulse)

Additional navigation options

- [Code](/mvdan/sh)
- [Issues](/mvdan/sh/issues)
- [Pull requests](/mvdan/sh/pulls)
- [Discussions](/mvdan/sh/discussions)
- [Actions](/mvdan/sh/actions)
- [Security](/mvdan/sh/security)
- [Insights](/mvdan/sh/pulse)

# mvdan/sh

master[Branches](/mvdan/sh/branches)[Tags](/mvdan/sh/tags)/mvdan/sh/branches/mvdan/sh/tagsGo to fileCodeOpen more actions menu

## Folders and files

NameNameLast commit messageLast commit date

## Latest commit

## History

[4,023 Commits](/mvdan/sh/commits/master/)/mvdan/sh/commits/master/[.github](/mvdan/sh/tree/master/.github)[.github](/mvdan/sh/tree/master/.github)[cmd](/mvdan/sh/tree/master/cmd)[cmd](/mvdan/sh/tree/master/cmd)[expand](/mvdan/sh/tree/master/expand)[expand](/mvdan/sh/tree/master/expand)[fileutil](/mvdan/sh/tree/master/fileutil)[fileutil](/mvdan/sh/tree/master/fileutil)[interp](/mvdan/sh/tree/master/interp)[interp](/mvdan/sh/tree/master/interp)[moreinterp](/mvdan/sh/tree/master/moreinterp)[moreinterp](/mvdan/sh/tree/master/moreinterp)[pattern](/mvdan/sh/tree/master/pattern)[pattern](/mvdan/sh/tree/master/pattern)[shell](/mvdan/sh/tree/master/shell)[shell](/mvdan/sh/tree/master/shell)[syntax](/mvdan/sh/tree/master/syntax)[syntax](/mvdan/sh/tree/master/syntax)[.gitattributes](/mvdan/sh/blob/master/.gitattributes)[.gitattributes](/mvdan/sh/blob/master/.gitattributes)[.gitignore](/mvdan/sh/blob/master/.gitignore)[.gitignore](/mvdan/sh/blob/master/.gitignore)[CHANGELOG.md](/mvdan/sh/blob/master/CHANGELOG.md)[CHANGELOG.md](/mvdan/sh/blob/master/CHANGELOG.md)[LICENSE](/mvdan/sh/blob/master/LICENSE)[LICENSE](/mvdan/sh/blob/master/LICENSE)[README.md](/mvdan/sh/blob/master/README.md)[README.md](/mvdan/sh/blob/master/README.md)[go.mod](/mvdan/sh/blob/master/go.mod)[go.mod](/mvdan/sh/blob/master/go.mod)[go.sum](/mvdan/sh/blob/master/go.sum)[go.sum](/mvdan/sh/blob/master/go.sum)View all files

## Repository files navigation

- [README](#)
- [BSD-3-Clause license](#)

# sh

#sh

https://pkg.go.dev/mvdan.cc/sh/v3

A shell parser, formatter, and interpreter. Supports [POSIX Shell](https://pubs.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html), [Bash](https://www.gnu.org/software/bash/), and [mksh](http://www.mirbsd.org/mksh.htm). Requires Go 1.24 or later.

### Quick start

#quick-start

To parse shell scripts, inspect them, and print them out, see the [syntax package](https://pkg.go.dev/mvdan.cc/sh/v3/syntax).

For high-level operations like performing shell expansions on strings, see the [shell package](https://pkg.go.dev/mvdan.cc/sh/v3/shell).

To interpret or run shell scripts, see the [interp package](https://pkg.go.dev/mvdan.cc/sh/v3/interp).

### shfmt

#shfmt

```
go install mvdan.cc/sh/v3/cmd/shfmt@latest
```

`shfmt` formats shell programs. See [canonical.sh](/mvdan/sh/blob/master/syntax/canonical.sh) for a quick look at its default style. For example:

```
shfmt -l -w script.sh
```

For more information, see [its manpage](/mvdan/sh/blob/master/cmd/shfmt/shfmt.1.scd), which can be viewed directly as Markdown or rendered with [scdoc](https://sr.ht/~sircmpwn/scdoc/).

Packages are available on [Alpine](https://pkgs.alpinelinux.org/packages?name=shfmt), [Arch](https://archlinux.org/packages/extra/x86_64/shfmt/), [Debian](https://tracker.debian.org/pkg/golang-mvdan-sh), [Docker](https://hub.docker.com/r/mvdan/shfmt/), [Fedora](https://packages.fedoraproject.org/pkgs/golang-mvdan-sh-3/shfmt/), [FreeBSD](https://www.freshports.org/devel/shfmt), [Homebrew](https://formulae.brew.sh/formula/shfmt), [MacPorts](https://ports.macports.org/port/shfmt/details/), [NixOS](https://github.com/NixOS/nixpkgs/blob/HEAD/pkgs/tools/text/shfmt/default.nix), [OpenSUSE](https://build.opensuse.org/package/show/openSUSE:Factory/shfmt), [Scoop](https://github.com/ScoopInstaller/Main/blob/HEAD/bucket/shfmt.json), [Snapcraft](https://snapcraft.io/shfmt), [Void](https://github.com/void-linux/void-packages/blob/HEAD/srcpkgs/shfmt/template) and [webi](https://webinstall.dev/shfmt/).

### gosh

#gosh

```
go install mvdan.cc/sh/v3/cmd/gosh@latest
```

Proof of concept shell that uses the `interp` package.

### Fuzzing

#fuzzing

We use Go's native fuzzing support. For instance:

```
cd syntax
go test -run=- -fuzz=ParsePrint
```

### Caveats

#caveats

- When indexing Bash associative arrays, always use quotes. The static parser will otherwise have to assume that the index is an arithmetic expression.

```
$ echo '${array[spaced string]}' | shfmt
<standard input>:1:16: not a valid arithmetic operator: string
$ echo '${array[weird!key]}' | shfmt
<standard input>:1:8: reached ! without matching [ with ]
$ echo '${array[dash-string]}' | shfmt
${array[dash - string]}
```

- `$((` and `((` ambiguity is not supported. Backtracking would complicate the parser and make streaming support via `io.Reader` impossible. The POSIX spec recommends to [space the operands](https://pubs.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html#tag_18_06_03) if `$( (` is meant.

```
$ echo '$((foo); (bar))' | shfmt
1:1: reached ) without matching $(( with ))
```

- 

`export`, `let`, and `declare` are parsed as keywords. This allows statically building their syntax tree, as opposed to keeping the arguments as a slice of words. It is also required to support `declare foo=(bar)`. Note that this means expansions like `declare {a,b}=c` are not supported.

- 

The entire library is written in pure Go, which limits how closely the interpreter can follow POSIX Shell and Bash semantics. For example, Go does not support forking its own process, so subshells use a goroutine instead, meaning that real PIDs and file descriptors cannot be used directly.

### JavaScript

#javascript

The parser and formatter are available as a third party npm package called [sh-syntax](https://github.com/un-ts/sh-syntax), which bundles a version of this library compiled to WASM.

Previously, we maintained an npm package called [mvdan-sh](https://www.npmjs.com/package/mvdan-sh) which used GopherJS to bundle a JS version of this library. That npm package is now archived given its poor performance and GopherJS not being as actively developed. Any existing or new users should look at [sh-syntax](https://github.com/un-ts/sh-syntax) instead.

### Docker

#docker

All release tags are published via [Docker](https://hub.docker.com/r/mvdan/shfmt/), such as `v3.5.1`. The latest stable release is currently published as `v3`, and the latest development version as `latest`. The images only include `shfmt`; `-alpine` variants exist on Alpine Linux.

To build a Docker image, run:

```
docker build -t my:tag -f cmd/shfmt/Dockerfile .
```

To use a Docker image, run:

```
docker run --rm -u "$(id -u):$(id -g)" -v "$PWD:/mnt" -w /mnt my:tag <shfmt arguments>
```

### Related projects

#related-projects

The following editor integrations wrap `shfmt`:

- [BashSupport-Pro](https://www.bashsupport.com/manual/editor/formatter/) - Bash plugin for JetBrains IDEs
- [dockerfmt](https://github.com/reteps/dockerfmt) - Dockerfile formatter using shfmt
- [intellij-shellscript](https://www.jetbrains.com/help/idea/shell-scripts.html) - Intellij Jetbrains `shell script` plugin
- [micro](https://micro-editor.github.io/) - Editor with a built-in plugin
- [neoformat](https://github.com/sbdchd/neoformat) - (Neo)Vim plugin
- [shell-format](https://marketplace.visualstudio.com/items?itemName=foxundermoon.shell-format) - VS Code plugin
- [vscode-shfmt](https://marketplace.visualstudio.com/items?itemName=mkhl.shfmt) - VS Code plugin
- [shfmt.el](https://github.com/purcell/emacs-shfmt/) - Emacs package
- [Sublime-Pretty-Shell](https://github.com/aerobounce/Sublime-Pretty-Shell) - Sublime Text 3 plugin
- [Trunk](https://trunk.io/check) - Universal linter, available as a CLI, VS Code plugin, and GitHub action
- [vim-shfmt](https://github.com/z0mbix/vim-shfmt) - Vim plugin

Other noteworthy integrations include:

- [modd](https://github.com/cortesi/modd) - A developer tool that responds to filesystem changes
- [prettier-plugin-sh](https://github.com/un-ts/prettier/tree/master/packages/sh) - [Prettier](https://prettier.io) plugin using [sh-syntax](https://github.com/un-ts/sh-syntax)
- [sh-checker](https://github.com/luizm/action-sh-checker) - A GitHub Action that performs static analysis for shell scripts
- [mdformat-shfmt](https://github.com/hukkin/mdformat-shfmt) - [mdformat](https://github.com/executablebooks/mdformat) plugin to format shell scripts embedded in Markdown with shfmt
- [pre-commit-shfmt](https://github.com/scop/pre-commit-shfmt) - [pre-commit](https://pre-commit.com) shfmt hook

## About

 A shell parser, formatter, and interpreter with bash support; includes shfmt 

[pkg.go.dev/mvdan.cc/sh/v3](https://pkg.go.dev/mvdan.cc/sh/v3)

### Topics

[go](/topics/go)[shell](/topics/shell)[bash](/topics/bash)[parser](/topics/parser)[formatter](/topics/formatter)[interpreter](/topics/interpreter)[beautify](/topics/beautify)[posix](/topics/posix)[mksh](/topics/mksh)[shfmt](/topics/shfmt)

### Resources

[Readme](#readme-ov-file)

### License

[BSD-3-Clause license](#BSD-3-Clause-1-ov-file)

###  Uh oh! 

There was an error while loading. Please reload this page.

[Activity](/mvdan/sh/activity)

### Stars

[8.4k
        stars](/mvdan/sh/stargazers)

### Watchers

[61
        watching](/mvdan/sh/watchers)

### Forks

[374
        forks](/mvdan/sh/forks)[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fmvdan%2Fsh&report=mvdan+%28user%29)

## [Releases
      51](/mvdan/sh/releases)

[v3.12.0
        
          Latest
      
      Jul 6, 2025](/mvdan/sh/releases/tag/v3.12.0)[+ 50 releases](/mvdan/sh/releases)

## Sponsor this project

 Sponsor 

###  Uh oh! 

There was an error while loading. Please reload this page.

[Learn more about GitHub Sponsors](/sponsors)

## [Used by 2.2k](/mvdan/sh/network/dependents)

- 
- 
- 
- 

[+ 2,206](/mvdan/sh/network/dependents)

## [Contributors
      88](/mvdan/sh/graphs/contributors)

- https://github.com/mvdan
- https://github.com/andreynering
- https://github.com/ebfe
- https://github.com/riacataquian
- https://github.com/kaey
- https://github.com/bouk
- https://github.com/scop
- https://github.com/theclapp
- https://github.com/ArturKlauser
- https://github.com/JounQin
- https://github.com/twilly
- https://github.com/cclerget
- https://github.com/paulhammond
- https://github.com/lollipopman

[+ 74 contributors](/mvdan/sh/graphs/contributors)

## Languages

- [Go
          99.9%](/mvdan/sh/search?l=go)
- Other0.1%

## Footer

https://github.com © 2026 GitHub, Inc. 

### Footer navigation

- [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
- [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
- [Security](https://github.com/security)
- [Status](https://www.githubstatus.com/)
- [Community](https://github.community/)
- [Docs](https://docs.github.com/)
- [Contact](https://support.github.com?tags=dotcom-footer)
-  Manage cookies 
-  Do not share my personal information 

 You can’t perform that action at this time.
