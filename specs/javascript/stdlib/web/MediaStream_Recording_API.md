# MediaStream Recording API

 Baseline  Widely available  * 

 This feature is well established and works across many devices and browser versions. It’s been available across browsers since ⁨April 2021⁩. 

* Some parts of this feature may have varying levels of support.

- [Learn more](/en-US/docs/Glossary/Baseline/Compatibility)
- [See full compatibility](#browser_compatibility)
- [Report feedback](https://survey.alchemer.com/s3/7634825/MDN-baseline-feedback?page=%2Fen-US%2Fdocs%2FWeb%2FAPI%2FMediaStream_Recording_API&level=high)

The MediaStream Recording API, sometimes referred to as the Media Recording API or the MediaRecorder API, is closely affiliated with the [Media Capture and Streams API](/en-US/docs/Web/API/Media_Capture_and_Streams_API) and the [WebRTC API](/en-US/docs/Web/API/WebRTC_API). The MediaStream Recording API makes it possible to capture the data generated by a [MediaStream](/en-US/docs/Web/API/MediaStream) or [HTMLMediaElement](/en-US/docs/Web/API/HTMLMediaElement) object for analysis, processing, or saving to disk. It's also surprisingly easy to work with.

## In this article

- [Concepts and usage](#concepts_and_usage)
- [Interfaces](#interfaces)
- [Examples](#examples)
- [Specifications](#specifications)
- [Browser compatibility](#browser_compatibility)
- [See also](#see_also)

## [Concepts and usage](#concepts_and_usage)

The MediaStream Recording API is comprised of a single major interface, [MediaRecorder](/en-US/docs/Web/API/MediaRecorder), which does all the work of taking the data from a [MediaStream](/en-US/docs/Web/API/MediaStream) and delivering it to you for processing. The data is delivered by a series of [dataavailable](/en-US/docs/Web/API/MediaRecorder/dataavailable_event) events, already in the format you specify when creating the `MediaRecorder`. You can then process the data further or write it to file as desired.

### [Overview of the recording process](#overview_of_the_recording_process)

The process of recording a stream is simple:

1. Set up a [MediaStream](/en-US/docs/Web/API/MediaStream) or [HTMLMediaElement](/en-US/docs/Web/API/HTMLMediaElement) (in the form of an [<audio>](/en-US/docs/Web/HTML/Reference/Elements/audio) or [<video>](/en-US/docs/Web/HTML/Reference/Elements/video) element) to serve as the source of the media data.
2. Create a [MediaRecorder](/en-US/docs/Web/API/MediaRecorder) object, specifying the source stream and any desired options (such as the container's MIME type or the desired bit rates of its tracks).
3. Set [ondataavailable](/en-US/docs/Web/API/MediaRecorder/dataavailable_event) to an event handler for the [dataavailable](/en-US/docs/Web/API/MediaRecorder/dataavailable_event) event; this will be called whenever data is available for you.
4. Once the source media is playing and you've reached the point where you're ready to record video, call [MediaRecorder.start()](/en-US/docs/Web/API/MediaRecorder/start) to begin recording.
5. Your [dataavailable](/en-US/docs/Web/API/MediaRecorder/dataavailable_event) event handler gets called every time there's data ready for you to do with as you will; the event has a `data` attribute whose value is a [Blob](/en-US/docs/Web/API/Blob) that contains the media data. You can force a `dataavailable` event to occur, thereby delivering the latest sound to you so you can filter it, save it, or whatever.
6. Recording stops automatically when the source media stops playing.
7. You can stop recording at any time by calling [MediaRecorder.stop()](/en-US/docs/Web/API/MediaRecorder/stop).

Note: Individual [Blob](/en-US/docs/Web/API/Blob)s containing slices of the recorded media will not necessarily be individually playable. The media needs to be reassembled before playback.

If anything goes wrong during recording, an [error](/en-US/docs/Web/API/MediaRecorder/error_event) event is sent to the `MediaRecorder`. You can listen for `error` events by setting up a [onerror](/en-US/docs/Web/API/MediaRecorder/error_event) event handler.

Example here, we use an HTML Canvas as source of the [MediaStream](/en-US/docs/Web/API/MediaStream), and stop recording after 9 seconds.

js

```
const canvas = document.querySelector("canvas");

// Optional frames per second argument.
const stream = canvas.captureStream(25);
const recordedChunks = [];

console.log(stream);
const options = { mimeType: "video/webm; codecs=vp9" };
const mediaRecorder = new MediaRecorder(stream, options);

mediaRecorder.ondataavailable = handleDataAvailable;
mediaRecorder.start();

function handleDataAvailable(event) {
  console.log("data-available");
  if (event.data.size > 0) {
    recordedChunks.push(event.data);
    console.log(recordedChunks);
    download();
  } else {
    // …
  }
}
function download() {
  const blob = new Blob(recordedChunks, {
    type: "video/webm",
  });
  const url = URL.createObjectURL(blob);
  const a = document.createElement("a");
  document.body.appendChild(a);
  a.style = "display: none";
  a.href = url;
  a.download = "test.webm";
  a.click();
  URL.revokeObjectURL(url);
}

// demo: to download after 9sec
setTimeout((event) => {
  console.log("stopping");
  mediaRecorder.stop();
}, 9000);
```

### [Examining and controlling the recorder status](#examining_and_controlling_the_recorder_status)

You can also use the properties of the `MediaRecorder` object to determine the state of the recording process, and its [pause()](/en-US/docs/Web/API/MediaRecorder/pause) and [resume()](/en-US/docs/Web/API/MediaRecorder/resume) methods to pause and resume recording of the source media.

If you need or want to check to see if a specific MIME type is supported, that's possible as well. Just call [MediaRecorder.isTypeSupported()](/en-US/docs/Web/API/MediaRecorder/isTypeSupported_static).

### [Examining potential input sources](#examining_potential_input_sources)

If your goal is to record camera and/or microphone input, you may wish to examine the available input devices before beginning the process of constructing the `MediaRecorder`. To do so, you'll need to call [navigator.mediaDevices.enumerateDevices()](/en-US/docs/Web/API/MediaDevices/enumerateDevices) to get a list of the available media devices. You can then examine that list and identify the potential input sources, and even filter the list based on desired criteria.

In this code snippet, `enumerateDevices()` is used to examine the available input devices, locate those which are audio input devices, and create [<option>](/en-US/docs/Web/HTML/Reference/Elements/option) elements that are then added to a [<select>](/en-US/docs/Web/HTML/Reference/Elements/select) element representing an input source picker.

js

```
navigator.mediaDevices.enumerateDevices().then((devices) => {
  devices.forEach((device) => {
    const menu = document.getElementById("input-devices");
    if (device.kind === "audioinput") {
      const item = document.createElement("option");
      item.textContent = device.label;
      item.value = device.deviceId;
      menu.appendChild(item);
    }
  });
});
```

Code similar to this can be used to let the user restrict the set of devices they wish to use.

### [For more information](#for_more_information)

To learn more about using the MediaStream Recording API, see [Using the MediaStream Recording API](/en-US/docs/Web/API/MediaStream_Recording_API/Using_the_MediaStream_Recording_API), which shows how to use the API to record audio clips. A second article, [Recording a media element](/en-US/docs/Web/API/MediaStream_Recording_API/Recording_a_media_element), describes how to receive a stream from an [<audio>](/en-US/docs/Web/HTML/Reference/Elements/audio) or [<video>](/en-US/docs/Web/HTML/Reference/Elements/video) element and use the captured stream (in this case, recording it and saving it to a local disk).

## [Interfaces](#interfaces)

[BlobEvent](/en-US/docs/Web/API/BlobEvent)

Each time a chunk of media data is finished being recorded, it's delivered to consumers in [Blob](/en-US/docs/Web/API/Blob) form using a [BlobEvent](/en-US/docs/Web/API/BlobEvent) of type `dataavailable`.

[MediaRecorder](/en-US/docs/Web/API/MediaRecorder)

The primary interface that implements the MediaStream Recording API.

[MediaRecorderErrorEvent](/en-US/docs/Web/API/MediaRecorderErrorEvent)DeprecatedNon-standard

The interface that represents errors thrown by the MediaStream Recording API. Its [error](/en-US/docs/Web/API/MediaRecorderErrorEvent/error) property is a [DOMException](/en-US/docs/Web/API/DOMException) that specifies that error occurred.

## [Examples](#examples)

### [Basic video recording](#basic_video_recording)

html

```
<button id="record-btn">Start</button>
<video id="player" src="" autoplay controls></video>
```

js

```
const recordBtn = document.getElementById("record-btn");
const video = document.getElementById("player");

let chunks = [];
let isRecording = false;
let mediaRecorder = null;

const constraints = { video: true };

recordBtn.addEventListener("click", async () => {
  if (!isRecording) {
    // Acquire a recorder on load
    if (!mediaRecorder) {
      const stream = await navigator.mediaDevices.getUserMedia(constraints);
      mediaRecorder = new MediaRecorder(stream);
      mediaRecorder.addEventListener("dataavailable", (e) => {
        console.log("data available");
        chunks.push(e.data);
      });
      mediaRecorder.addEventListener("stop", (e) => {
        console.log("onstop fired");
        const blob = new Blob(chunks, { type: "video/ogv; codecs=opus" });
        video.src = window.URL.createObjectURL(blob);
      });
      mediaRecorder.addEventListener("error", (e) => {
        console.error("An error occurred:", e);
      });
    }
    isRecording = true;
    recordBtn.textContent = "Stop";
    chunks = [];
    mediaRecorder.start();
    console.log("recorder started");
  } else {
    isRecording = false;
    recordBtn.textContent = "Start";
    mediaRecorder.stop();
    console.log("recorder stopped");
  }
});
```

## [Specifications](#specifications)

Specification[MediaStream Recording](https://w3c.github.io/mediacapture-record/)

## [Browser compatibility](#browser_compatibility)

## [See also](#see_also)

- [Media Capture and Streams API](/en-US/docs/Web/API/Media_Capture_and_Streams_API) landing page
- [MediaDevices.getUserMedia()](/en-US/docs/Web/API/MediaDevices/getUserMedia)
- [simpl.info MediaStream Recording demo](https://simpl.info/mediarecorder/), by [Sam Dutton](https://github.com/samdutton)
- [HTML5's Media Recorder API in Action on Chrome and Firefox](https://blog.addpipe.com/mediarecorder-api/)
- [MediaRecorder polyfill](https://github.com/ai/audio-recorder-polyfill) for Safari and Edge
- [TutorRoom](https://github.com/chrisjohndigital/TutorRoom): HTML video capture/playback/download using getUserMedia and the MediaStream Recording API ([source on GitHub](https://github.com/chrisjohndigital/TutorRoom))
- [Advanced media stream recorder sample](https://quickblox.github.io/javascript-media-recorder/sample/)
- [OpenLang](https://github.com/chrisjohndigital/OpenLang): HTML video language lab web application using MediaDevices and the MediaStream Recording API for video recording ([source on GitHub](https://github.com/chrisjohndigital/OpenLang))
- [MediaStream Recorder API Now Available in Safari Technology Preview 73](https://blog.addpipe.com/safari-technology-preview-73-adds-limited-mediastream-recorder-api-support/)

## Help improve MDN

Was this page helpful to you?YesNo[Learn how to contribute](/en-US/docs/MDN/Community/Getting_started)

 This page was last modified on ⁨Aug 11, 2025⁩ by [MDN contributors](/en-US/docs/Web/API/MediaStream_Recording_API/contributors.txt). 

[View this page on GitHub](https://github.com/mdn/content/blob/main/files/en-us/web/api/mediastream_recording_api/index.md?plain=1) • [Report a problem with this content](https://github.com/mdn/content/issues/new?template=page-report.yml&mdn-url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FMediaStream_Recording_API&metadata=%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EPage+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60en-us%2Fweb%2Fapi%2Fmediastream_recording_api%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FMediaStream_Recording_API%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fblob%2Fmain%2Ffiles%2Fen-us%2Fweb%2Fapi%2Fmediastream_recording_api%2Findex.md%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fcommit%2F937e773427bd62ab5b83ab13c62759053c2ca714%0A*+Document+last+modified%3A+2025-08-11T12%3A29%3A18.000Z%0A%0A%3C%2Fdetails%3E)
