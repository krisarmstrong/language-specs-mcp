{"language": "r", "generatedAt": "2026-01-06T18:23:22.326191+00:00", "entries": [{"path": "generation-checklist.md", "category": "spec", "name": "generation-checklist", "content": "# R Generation Checklist\n\n**Read this BEFORE writing R code. Vectorization and tidyverse patterns matter.**\n\n## Critical: You Must Do These\n\n### 1. Use Vectorized Operations, Not Loops\n```r\n# BAD - explicit loop\nresult <- c()\nfor (i in 1:length(x)) {\n  result <- c(result, x[i] * 2)  # Also: growing vectors is slow!\n}\n\n# GOOD - vectorized\nresult <- x * 2\n\n# BAD - loop for conditional\nfor (i in 1:length(x)) {\n  if (x[i] > 0) x[i] <- x[i] * 2\n}\n\n# GOOD - vectorized conditional\nx <- ifelse(x > 0, x * 2, x)\n```\n\n### 2. Use `<-` for Assignment, Not `=`\n```r\n# Not recommended - can be confused with function args\nx = 5\n\n# GOOD - standard R assignment\nx <- 5\n\n# Function arguments use =\nmean(x = c(1, 2, 3), na.rm = TRUE)\n```\n\n### 3. Always Handle NA Values Explicitly\n```r\n# BAD - ignores NA problem\nmean(data$value)  # Returns NA if any NA present\n\n# GOOD - explicit NA handling\nmean(data$value, na.rm = TRUE)\n\n# GOOD - check for NAs\nif (any(is.na(data$value))) {\n  warning(\"Data contains NA values\")\n}\n\n# GOOD - filter NAs\ndata_clean <- data[!is.na(data$value), ]\n# Or with tidyverse\ndata_clean <- data %>% filter(!is.na(value))\n```\n\n### 4. Use Tidyverse for Data Manipulation\n```r\n# BAD - base R, hard to read\nsubset(df[order(df$date), ], status == \"active\")[, c(\"name\", \"value\")]\n\n# GOOD - tidyverse pipe chain\ndf %>%\n  filter(status == \"active\") %>%\n  arrange(date) %>%\n  select(name, value)\n```\n\n### 5. Pre-allocate Vectors for Loops\n```r\n# BAD - growing vector (O(n\u00b2) complexity)\nresult <- c()\nfor (i in 1:n) {\n  result <- c(result, compute(i))\n}\n\n# GOOD - pre-allocate\nresult <- vector(\"numeric\", n)\nfor (i in 1:n) {\n  result[i] <- compute(i)\n}\n\n# BETTER - use vapply (type-safe)\nresult <- vapply(1:n, compute, numeric(1))\n```\n\n## Important: Strong Recommendations\n\n### 6. Use `vapply` Over `sapply`\n```r\n# BAD - sapply can return unexpected types\nsapply(list(), function(x) x)  # Returns list()\nsapply(1:3, function(x) x)     # Returns integer vector\n\n# GOOD - vapply is type-safe\nvapply(1:3, function(x) x, integer(1))\n\n# For lists, use map functions from purrr\nmap_int(1:3, ~ .x * 2)\n```\n\n### 7. Use Meaningful Variable Names\n```r\n# BAD - unclear\ndf <- read_csv(\"data.csv\")\nx <- df$col1\ny <- lm(x ~ df$col2)\n\n# GOOD - descriptive\nsales_data <- read_csv(\"sales.csv\")\nmonthly_revenue <- sales_data$revenue\nrevenue_model <- lm(monthly_revenue ~ sales_data$marketing_spend)\n```\n\n### 8. Use Double Brackets for Single Element Extraction\n```r\n# Returns a list (probably not what you want)\nmy_list[\"element\"]\ndf[\"column\"]\n\n# Returns the actual element/vector\nmy_list[[\"element\"]]\ndf[[\"column\"]]\ndf$column  # Equivalent for data frames\n```\n\n### 9. Use `dplyr::case_when` for Multiple Conditions\n```r\n# BAD - nested ifelse\ndata$grade <- ifelse(data$score >= 90, \"A\",\n                ifelse(data$score >= 80, \"B\",\n                  ifelse(data$score >= 70, \"C\", \"F\")))\n\n# GOOD - case_when\ndata <- data %>%\n  mutate(grade = case_when(\n    score >= 90 ~ \"A\",\n    score >= 80 ~ \"B\",\n    score >= 70 ~ \"C\",\n    TRUE ~ \"F\"\n  ))\n```\n\n### 10. Use `here::here()` for File Paths\n```r\n# BAD - fragile paths\ndata <- read_csv(\"C:/Users/alice/project/data/sales.csv\")\ndata <- read_csv(\"../data/sales.csv\")\n\n# GOOD - project-relative paths\nlibrary(here)\ndata <- read_csv(here(\"data\", \"sales.csv\"))\n```\n\n## Data Analysis Patterns\n\n### 11. Use `group_by` + `summarize` for Aggregations\n```r\n# GOOD - grouped summaries\nsales_summary <- sales_data %>%\n  group_by(region, year) %>%\n  summarize(\n    total_sales = sum(amount),\n    avg_sale = mean(amount),\n    n_transactions = n(),\n    .groups = \"drop\"\n  )\n```\n\n### 12. Use `pivot_longer` and `pivot_wider` for Reshaping\n```r\n# Wide to long (tidy)\ntidy_data <- wide_data %>%\n  pivot_longer(\n    cols = starts_with(\"year_\"),\n    names_to = \"year\",\n    values_to = \"value\"\n  )\n\n# Long to wide\nwide_data <- tidy_data %>%\n  pivot_wider(\n    names_from = year,\n    values_from = value\n  )\n```\n\n### 13. Use `across()` for Multiple Column Operations\n```r\n# GOOD - apply function across multiple columns\ndata %>%\n  mutate(across(where(is.numeric), scale))\n\ndata %>%\n  summarize(across(starts_with(\"score\"), mean, na.rm = TRUE))\n```\n\n## Best Practices\n\n### 14. Use Functions for Repeated Code\n```r\n# BAD - copy-paste code\ndf1 <- df1 %>% filter(x > 0) %>% mutate(y = log(x)) %>% ...\ndf2 <- df2 %>% filter(x > 0) %>% mutate(y = log(x)) %>% ...\n\n# GOOD - create function\ntransform_data <- function(df) {\n  df %>%\n    filter(x > 0) %>%\n    mutate(y = log(x))\n}\n\ndf1 <- transform_data(df1)\ndf2 <- transform_data(df2)\n```\n\n### 15. Document with roxygen2\n```r\n#' Calculate summary statistics\n#'\n#' @param data A data frame containing numeric columns\n#' @param group_var Column name to group by (character)\n#' @param value_var Column name to summarize (character)\n#' @return A tibble with summary statistics\n#' @export\n#' @examples\n#' calc_summary(mtcars, \"cyl\", \"mpg\")\ncalc_summary <- function(data, group_var, value_var) {\n  data %>%\n    group_by(.data[[group_var]]) %>%\n    summarize(\n      mean = mean(.data[[value_var]], na.rm = TRUE),\n      sd = sd(.data[[value_var]], na.rm = TRUE)\n    )\n}\n```\n\n### 16. Use Set Seed for Reproducibility\n```r\n# GOOD - reproducible random operations\nset.seed(42)\nsample_data <- sample(data, 100)\n\n# GOOD - within a function\nmy_bootstrap <- function(data, n = 1000, seed = NULL) {\n  if (!is.null(seed)) set.seed(seed)\n  # ... bootstrap logic\n}\n```\n\n---\n\n**Quick Reference - Copy This Mental Model:**\n- Vectorize, don't loop\n- `<-` for assignment\n- Handle NAs explicitly (`na.rm = TRUE`)\n- Tidyverse for data manipulation\n- Pre-allocate vectors\n- `vapply` over `sapply`\n- `[[]]` for single element extraction\n- `case_when` for multiple conditions\n- `here::here()` for paths\n- `group_by` + `summarize` for aggregations\n- `pivot_longer/wider` for reshaping\n- `across()` for multiple columns\n- Functions for repeated code\n- `set.seed()` for reproducibility\n"}, {"path": "patterns/idioms.md", "category": "patterns", "name": "patterns/idioms", "content": "# R Idioms\n\n## Prefer vectorized operations\n\nUse vectorized functions instead of explicit loops.\n\n## Use explicit column names\n\nAvoid positional indexing for data frames.\n"}, {"path": "formatters/overview.md", "category": "formatters", "name": "formatters/overview", "content": "# R Formatters\n\nCommon formatters include styler.\n\nSee: https://styler.r-lib.org/\n"}, {"path": "stdlib/overview.md", "category": "stdlib", "name": "stdlib/overview", "content": "CRAN: Manuals\n\n# R: A Language and Environment for Statistical Computing\n\n## The R Manuals\n\nedited by the R Core Team. \n\n The following manuals for R were created on Debian Linux and may differ from the manuals for Mac or Windows on platform-specific pages, but most parts will be identical for all platforms. The correct version of the manuals for each platform are part of the respective R installations. The manuals change with R, hence we provide versions for the most recent released R version (R-release), a very current version for the patched release version (R-patched) and finally a version for the forthcoming R version that is still in development (R-devel). \n\n Here they can be downloaded as PDF files, EPUB files, or directly browsed as HTML: \n\nManualR-releaseR-patchedR-develAn Introduction to R is based on the former \"Notes on R\", gives an introduction to the language and how to use R for doing statistical analysis and graphics. [HTML](doc/manuals/r-release/R-intro.html) | [PDF](doc/manuals/r-release/R-intro.pdf) | [EPUB](doc/manuals/r-release/R-intro.epub)[HTML](doc/manuals/r-patched/R-intro.html) | [PDF](doc/manuals/r-patched/R-intro.pdf) | [EPUB](doc/manuals/r-patched/R-intro.epub)[HTML](doc/manuals/r-devel/R-intro.html) | [PDF](doc/manuals/r-devel/R-intro.pdf) | [EPUB](doc/manuals/r-devel/R-intro.epub)R Data Import/Export describes the import and export facilities available either in R itself or via packages which are available from CRAN. [HTML](doc/manuals/r-release/R-data.html) | [PDF](doc/manuals/r-release/R-data.pdf) | [EPUB](doc/manuals/r-release/R-data.epub)[HTML](doc/manuals/r-patched/R-data.html) | [PDF](doc/manuals/r-patched/R-data.pdf) | [EPUB](doc/manuals/r-patched/R-data.epub)[HTML](doc/manuals/r-devel/R-data.html) | [PDF](doc/manuals/r-devel/R-data.pdf) | [EPUB](doc/manuals/r-devel/R-data.epub)R Installation and Administration[HTML](doc/manuals/r-release/R-admin.html) | [PDF](doc/manuals/r-release/R-admin.pdf) | [EPUB](doc/manuals/r-release/R-admin.epub)[HTML](doc/manuals/r-patched/R-admin.html) | [PDF](doc/manuals/r-patched/R-admin.pdf) | [EPUB](doc/manuals/r-patched/R-admin.epub)[HTML](doc/manuals/r-devel/R-admin.html) | [PDF](doc/manuals/r-devel/R-admin.pdf) | [EPUB](doc/manuals/r-devel/R-admin.epub)Writing R Extensions covers how to create your own packages, write R help files, and the foreign language (C, C++, Fortran, ...) interfaces. [HTML](doc/manuals/r-release/R-exts.html) | [PDF](doc/manuals/r-release/R-exts.pdf) | [EPUB](doc/manuals/r-release/R-exts.epub)[HTML](doc/manuals/r-patched/R-exts.html) | [PDF](doc/manuals/r-patched/R-exts.pdf) | [EPUB](doc/manuals/r-patched/R-exts.epub)[HTML](doc/manuals/r-devel/R-exts.html) | [PDF](doc/manuals/r-devel/R-exts.pdf) | [EPUB](doc/manuals/r-devel/R-exts.epub) A draft of The R language definition documents the language per se. That is, the objects that it works on, and the details of the expression evaluation process, which are useful to know when programming R functions. [HTML](doc/manuals/r-release/R-lang.html) | [PDF](doc/manuals/r-release/R-lang.pdf) | [EPUB](doc/manuals/r-release/R-lang.epub)[HTML](doc/manuals/r-patched/R-lang.html) | [PDF](doc/manuals/r-patched/R-lang.pdf) | [EPUB](doc/manuals/r-patched/R-lang.epub)[HTML](doc/manuals/r-devel/R-lang.html) | [PDF](doc/manuals/r-devel/R-lang.pdf) | [EPUB](doc/manuals/r-devel/R-lang.epub)R Internals: a guide to the internal structures of R and coding standards for the core team working on R itself. [HTML](doc/manuals/r-release/R-ints.html) | [PDF](doc/manuals/r-release/R-ints.pdf) | [EPUB](doc/manuals/r-release/R-ints.epub)[HTML](doc/manuals/r-patched/R-ints.html) | [PDF](doc/manuals/r-patched/R-ints.pdf) | [EPUB](doc/manuals/r-patched/R-ints.epub)[HTML](doc/manuals/r-devel/R-ints.html) | [PDF](doc/manuals/r-devel/R-ints.pdf) | [EPUB](doc/manuals/r-devel/R-ints.epub)The R Reference Index: contains all help files of the R standard and recommended packages in printable form. (9MB, approx. 3500 pages) [PDF](doc/manuals/r-release/fullrefman.pdf)[PDF](doc/manuals/r-patched/fullrefman.pdf)[PDF](doc/manuals/r-devel/fullrefman.pdf)\n\nThe LaTeX or Texinfo sources of the latest version of these documents are contained in every R source distribution (in the subdirectory doc/manual of the extracted archive). Older versions of the manual can be found in the respective [archives of\nthe R sources](src/base/). The HTML versions of the manuals are also part of most R installations (accessible using function `help.start()`). \n\nPlease check the manuals for R-devel before reporting any issues with the released versions.\n"}, {"path": "spec.md", "category": "spec", "name": "spec", "content": "# R Language Definition\nVersion: unknown\n\nSource: https://cran.r-project.org/doc/manuals/r-release/R-lang.html\n\n\nSee: https://cran.r-project.org/doc/manuals/r-release/R-lang.html\n"}, {"path": "linters/lintr/overview.md", "category": "linters", "name": "linters/lintr/overview", "content": "# lintr\n\nlintr is a static code analysis tool for R.\n\nVersion: 3.3.0\nSource: https://lintr.r-lib.org/\n\n## Installation\n\n```r\ninstall.packages(\"lintr\")\n```\n\n## Usage\n\n```r\n# Lint a file\nlintr::lint(\"script.R\")\n\n# Lint a package\nlintr::lint_package()\n\n# Lint a directory\nlintr::lint_dir(\"R/\")\n```\n\n## Configuration\n\nCreate `.lintr` file:\n\n```r\nlinters: linters_with_defaults(\n  line_length_linter(120),\n  commented_code_linter = NULL\n)\nexclusions: list(\n  \"R/generated.R\",\n  \"tests/testthat/helper.R\" = list(\n    object_name_linter = Inf\n  )\n)\n```\n\n## Linter Categories\n\n### Style & Formatting\n\n#### assignment_linter\nChecks assignment operator style (`<-` vs `=`).\n\n#### brace_linter\nChecks brace placement and style.\n\n#### commas_linter\nEnsures proper comma spacing.\n\n#### indentation_linter\nChecks consistent indentation.\n\n#### infix_spaces_linter\nEnsures spaces around infix operators.\n\n#### line_length_linter\nEnforces maximum line length.\n\n#### quotes_linter\nChecks quote style consistency.\n\n#### semicolon_linter\nDiscourages semicolons.\n\n#### spaces_inside_linter\nChecks spacing inside brackets.\n\n#### trailing_blank_lines_linter\nRemoves trailing blank lines.\n\n#### trailing_whitespace_linter\nRemoves trailing whitespace.\n\n### Code Quality\n\n#### commented_code_linter\nDetects commented-out code.\n\n#### cyclocomp_linter\nChecks cyclomatic complexity.\n\n#### function_argument_linter\nChecks function argument usage.\n\n#### object_length_linter\nChecks object name length.\n\n#### object_name_linter\nEnsures naming conventions.\n\n#### object_usage_linter\nDetects undefined variables.\n\n#### return_linter\nChecks return statement usage.\n\n#### todo_comment_linter\nWarns about TODO comments.\n\n#### unreachable_code_linter\nDetects unreachable code.\n\n### Common Mistakes\n\n#### all_equal_linter\nSuggests `all.equal()` alternatives.\n\n#### any_duplicated_linter\nSuggests `anyDuplicated()`.\n\n#### any_is_na_linter\nPrefers `anyNA()` over `any(is.na())`.\n\n#### comparison_negation_linter\nSimplifies negated comparisons.\n\n#### equals_na_linter\nWarns about `== NA` (use `is.na()`).\n\n#### if_not_else_linter\nSimplifies `if (!x) else`.\n\n#### nested_ifelse_linter\nWarns about nested ifelse.\n\n#### redundant_equals_linter\nRemoves redundant `== TRUE`.\n\n#### redundant_ifelse_linter\nSimplifies redundant ifelse.\n\n#### vector_logic_linter\nUses `&&`/`||` vs `&`/`|` appropriately.\n\n#### yoda_test_linter\nAvoids Yoda conditions.\n\n### Efficiency\n\n#### inner_combine_linter\nSuggests moving `c()` inside functions.\n\n#### lengths_linter\nPrefers `lengths()` over `sapply(x, length)`.\n\n#### matrix_apply_linter\nSuggests `colSums`/`rowSums`.\n\n#### nrow_subset_linter\nAvoids `nrow()` in subsetting.\n\n#### seq_linter\nPrefers `seq_len()`/`seq_along()`.\n\n### Testing (testthat)\n\n#### expect_comparison_linter\nUses comparison expectations properly.\n\n#### expect_identical_linter\nPrefers `expect_identical()`.\n\n#### expect_length_linter\nUses `expect_length()`.\n\n#### expect_named_linter\nUses `expect_named()`.\n\n#### expect_not_linter\nUses `expect_false()`.\n\n#### expect_null_linter\nUses `expect_null()`.\n\n#### expect_s3_class_linter\nUses `expect_s3_class()`.\n\n#### expect_s4_class_linter\nUses `expect_s4_class()`.\n\n#### expect_true_false_linter\nUses `expect_true()`/`expect_false()`.\n\n#### expect_type_linter\nUses `expect_type()`.\n\n## Configuration Functions\n\n```r\n# Default linters with modifications\nlinters_with_defaults(\n  line_length_linter = line_length_linter(120),\n  object_name_linter = NULL  # disable\n)\n\n# Only specific tags\nlinters_with_tags(tags = c(\"correctness\", \"efficiency\"))\n\n# Exclude lines\n# nolint\n# nolint start\n# nolint end\n```\n\n## IDE Integration\n\n- RStudio: Built-in support\n- VS Code: R extension support\n- Emacs: flycheck-lintr\n- Vim: ALE plugin\n"}]}